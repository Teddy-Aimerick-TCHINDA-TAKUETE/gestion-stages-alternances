import{a as Oi}from"./chunk-VPWGSNWI.js";import{a as ht}from"./chunk-UIHDUBTM.js";import{a as zt}from"./chunk-BBH67TY2.js";import{a as vt}from"./chunk-A4HBSWL7.js";import{a as _t}from"./chunk-BYWXCTMR.js";import{a as Xe}from"./chunk-K3IUYF2E.js";import{a as ke}from"./chunk-4T322RVL.js";import{$ as D,A as w,B as v,D as l,E as Ae,F as S,G as de,H as ut,I as pt,J as ft,K as z,L as Oe,M as Ee,N as xe,P as xi,Q as ue,R as V,S as Rt,T as P,U as Mi,V as Pi,X as Ti,Y as Ii,Z as Fe,_ as wi,a as mt,aa as U,b as vi,ba as Ai,c as yi,ca as Lt,d as L,da as q,e as we,ea as pe,f as se,fa as I,g as j,ga as J,h as B,ha as fe,i as bi,ia as gt,j as Rn,ja as ge,k as Si,ka as he,l as Ln,la as _e,m as Ci,ma as We,n as m,na as Ye,o as Ei,oa as He,p as h,q as M,qa as ve,r as dt,ra as De,s as g,sa as ye,t as u,ta as W,u as a,v as o,w as b,x as xt,y as Mt,z as H}from"./chunk-XPQBKRV7.js";function Br(i,t){i&1&&(xt(0),a(1,"li")(2,"a",12),l(3,"Stages/Alternances"),o()(),Mt())}function Gr(i,t){i&1&&(xt(0),a(1,"li")(2,"a",13),l(3,"Mes Candidatures"),o()(),Mt())}function Kr(i,t){i&1&&(xt(0),a(1,"li")(2,"a",13),l(3,"Candidatures re\xE7ues"),o()(),Mt())}function $r(i,t){i&1&&(xt(0),a(1,"li")(2,"a",13),l(3,"Toutes les Candidatures"),o()(),a(4,"li")(5,"a",14),l(6,"\xC9tudiants"),o()(),a(7,"li")(8,"a",15),l(9,"Entreprises"),o()(),a(10,"li")(11,"a",16),l(12,"Admins"),o()(),a(13,"li")(14,"a",17),l(15,"Utilisateurs"),o()(),Mt())}function Qr(i,t){i&1&&(a(0,"a",18),l(1,"Connexion"),o())}function Wr(i,t){if(i&1){let e=H();a(0,"button",19),w("click",function(){j(e);let r=v();return B(r.monCompte())}),l(1,"Mon Compte"),o()}}var Ut=class i{constructor(t,e){this.authService=t;this.router=e}login(){this.router.navigate(["/home"]);let t=this.authService.getCurrentUser();t&&this.authService.login(t.email,t.password)}logout(){this.authService.logout(),this.router.navigate(["/home"])}monCompte(){(this.authService.getCurrentUserRole()==="ADMIN"||this.authService.getCurrentUserRole()==="SUPER_ADMIN")&&this.router.navigate(["/admins/",this.authService.getCurrentProfilId()]),this.authService.getCurrentUserRole()==="ETUDIANT"&&this.router.navigate(["/etudiants/",this.authService.getCurrentProfilId()]),this.authService.getCurrentUserRole()==="ENTREPRISE"&&this.router.navigate(["/entreprises/",this.authService.getCurrentProfilId()])}static \u0275fac=function(e){return new(e||i)(h(q),h(D))};static \u0275cmp=M({type:i,selectors:[["app-navbar"]],decls:23,vars:6,consts:[[1,"navbar"],[1,"navbar-container"],[1,"navbar-logo"],["routerLink","/home"],[1,"navbar-right"],[1,"navbar-links"],["routerLink","/about"],["routerLink","/contact"],[4,"ngIf"],[1,"auth-buttons"],["routerLink","/login","class","login-button",4,"ngIf"],["class","logout-button",3,"click",4,"ngIf"],["routerLink","/stages"],["routerLink","/candidatures"],["routerLink","/etudiants"],["routerLink","/entreprises"],["routerLink","/admins"],["routerLink","/users"],["routerLink","/login",1,"login-button"],[1,"logout-button",3,"click"]],template:function(e,n){e&1&&(a(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),l(4,"Gestion Stages & Alternances"),o()(),a(5,"div",4)(6,"ul",5)(7,"li")(8,"a",3),l(9,"Accueil"),o()(),a(10,"li")(11,"a",6),l(12,"\xC0 propos"),o()(),a(13,"li")(14,"a",7),l(15,"Contact"),o()(),g(16,Br,4,0,"ng-container",8)(17,Gr,4,0,"ng-container",8)(18,Kr,4,0,"ng-container",8)(19,$r,16,0,"ng-container",8),o(),a(20,"div",9),g(21,Qr,2,0,"a",10)(22,Wr,2,0,"button",11),o()()()()),e&2&&(m(16),u("ngIf",n.authService.isLoggedIn()),m(),u("ngIf",n.authService.isEtudiant()),m(),u("ngIf",n.authService.isEntreprise()),m(),u("ngIf",n.authService.isAdmin()),m(2),u("ngIf",!n.authService.isLoggedIn()),m(),u("ngIf",n.authService.isLoggedIn()))},dependencies:[P,V,Lt,U],styles:[".navbar[_ngcontent-%COMP%]{background-color:#007bff;padding:10px 0;position:fixed;width:100%;top:0;z-index:1000;box-shadow:0 2px 5px #0000001a}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:90%;max-width:1200px;margin:0 auto}.navbar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-decoration:none}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.navbar-links[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:15px}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc107}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:8px 15px;border-radius:5px;font-weight:700;text-decoration:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]{background-color:#e74c3c}.login-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}@media (max-width: 768px){.navbar-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.auth-buttons[_ngcontent-%COMP%]{margin-top:10px}}"]})};var qt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-footer"]],decls:20,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-links"],["routerLink","/home"],["routerLink","/about"],["routerLink","/contact"],[1,"footer-socials"],["href","https://www.linkedin.com","target","_blank","aria-label","LinkedIn"],[1,"fab","fa-linkedin"],["href","https://github.com","target","_blank","aria-label","GitHub"],[1,"fab","fa-github"],["href","https://twitter.com","target","_blank","aria-label","Twitter"],[1,"fab","fa-twitter"]],template:function(e,n){e&1&&(a(0,"footer",0)(1,"div",1)(2,"p"),l(3,"\xA9 2025 Gestion Stages & Alternances - Tous droits r\xE9serv\xE9s."),o(),a(4,"div",2)(5,"a",3),l(6,"Accueil"),o(),l(7," | "),a(8,"a",4),l(9,"\xC0 propos"),o(),l(10," | "),a(11,"a",5),l(12,"Contact"),o()(),a(13,"div",6)(14,"a",7),b(15,"i",8),o(),a(16,"a",9),b(17,"i",10),o(),a(18,"a",11),b(19,"i",12),o()()()())},dependencies:[P,Lt,U],styles:[".footer[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:20px 0;text-align:center;margin-top:40px;font-size:14px}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 10px;text-decoration:none;font-weight:700;transition:color .3s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc107}.footer-socials[_ngcontent-%COMP%]{margin-top:15px}.footer-socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin:0 8px;transition:transform .3s,color .3s}.footer-socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc107;transform:scale(1.2)}"]})};var Vt=class i{constructor(t){this.authService=t}title="frontend-angular";logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||i)(h(q))};static \u0275cmp=M({type:i,selectors:[["app-root"]],decls:5,vars:0,consts:[["rel","stylesheet","href",Ci`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css`],[1,"main-content"]],template:function(e,n){e&1&&(b(0,"app-navbar")(1,"link",0),a(2,"div",1),b(3,"router-outlet"),o(),b(4,"app-footer"))},dependencies:[P,wi,Ut,qt],styles:[".main-content[_ngcontent-%COMP%]{padding-top:70px}"]})};var O=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(O||{}),Ne="*";function Me(i,t){return{type:O.Trigger,name:i,definitions:t,options:{}}}function Pe(i,t=null){return{type:O.Animate,styles:t,timings:i}}function Fi(i,t=null){return{type:O.Sequence,steps:i,options:t}}function X(i){return{type:O.Style,styles:i,offset:null}}function Te(i,t,e=null){return{type:O.Transition,expr:i,animation:t,options:e}}var Be=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},nt=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++n==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},yt="!";function Di(i){return new L(3e3,!1)}function Yr(){return new L(3100,!1)}function Hr(){return new L(3101,!1)}function Xr(i){return new L(3001,!1)}function Jr(i){return new L(3003,!1)}function Zr(i){return new L(3004,!1)}function Ni(i,t){return new L(3005,!1)}function Ri(){return new L(3006,!1)}function Li(){return new L(3007,!1)}function zi(i,t){return new L(3008,!1)}function Ui(i){return new L(3002,!1)}function qi(i,t,e,n,r){return new L(3010,!1)}function Vi(){return new L(3011,!1)}function ji(){return new L(3012,!1)}function Bi(){return new L(3200,!1)}function Gi(){return new L(3202,!1)}function Ki(){return new L(3013,!1)}function $i(i){return new L(3014,!1)}function Qi(i){return new L(3015,!1)}function Wi(i){return new L(3016,!1)}function Yi(i,t){return new L(3404,!1)}function eo(i){return new L(3502,!1)}function Hi(i){return new L(3503,!1)}function Xi(){return new L(3300,!1)}function Ji(i){return new L(3504,!1)}function Zi(i){return new L(3301,!1)}function er(i,t){return new L(3302,!1)}function tr(i){return new L(3303,!1)}function nr(i,t){return new L(3400,!1)}function ir(i){return new L(3401,!1)}function rr(i){return new L(3402,!1)}function or(i,t){return new L(3505,!1)}function Ke(i){switch(i.length){case 0:return new Be;case 1:return i[0];default:return new nt(i)}}function Vn(i,t,e=new Map,n=new Map){let r=[],s=[],c=-1,d=null;if(t.forEach(p=>{let f=p.get("offset"),_=f==c,y=_&&d||new Map;p.forEach((k,F)=>{let E=F,A=k;if(F!=="offset")switch(E=i.normalizePropertyName(E,r),A){case yt:A=e.get(F);break;case Ne:A=n.get(F);break;default:A=i.normalizeStyleValue(F,E,A,r);break}y.set(E,A)}),_||s.push(y),d=y,c=f}),r.length)throw eo(r);return s}function jt(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&zn(e,"start",i)));break;case"done":i.onDone(()=>n(e&&zn(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&zn(e,"destroy",i)));break}}function zn(i,t,e){let n=e.totalTime,r=!!e.disabled,s=Bt(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),c=i._data;return c!=null&&(s._data=c),s}function Bt(i,t,e,n,r="",s=0,c){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!c}}function be(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function jn(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var to=typeof document>"u"?null:document.documentElement;function Gt(i){let t=i.parentNode||i.host||null;return t===to?null:t}function no(i){return i.substring(1,6)=="ebkit"}var it=null,ki=!1;function sr(i){it||(it=io()||{},ki=it.style?"WebkitAppearance"in it.style:!1);let t=!0;return it.style&&!no(i)&&(t=i in it.style,!t&&ki&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in it.style)),t}function io(){return typeof document<"u"?document.body:null}function Bn(i,t){for(;t;){if(t===i)return!0;t=Gt(t)}return!1}function Gn(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var ro=1e3,Kn="{{",oo="}}",$n="ng-enter",Kt="ng-leave",Pt="ng-trigger",Tt=".ng-trigger",Qn="ng-animating",$t=".ng-animating";function Ge(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Un(parseFloat(t[1]),t[2])}function Un(i,t){switch(t){case"s":return i*ro;default:return i}}function It(i,t,e){return i.hasOwnProperty("duration")?i:so(i,t,e)}function so(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,c="";if(typeof i=="string"){let d=i.match(n);if(d===null)return t.push(Di(i)),{duration:0,delay:0,easing:""};r=Un(parseFloat(d[1]),d[2]);let p=d[3];p!=null&&(s=Un(parseFloat(p),d[4]));let f=d[5];f&&(c=f)}else r=i;if(!e){let d=!1,p=t.length;r<0&&(t.push(Yr()),d=!0),s<0&&(t.push(Hr()),d=!0),d&&t.splice(p,0,Di(i))}return{duration:r,delay:s,easing:c}}function ar(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Le(i,t,e){t.forEach((n,r)=>{let s=Qt(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function Je(i,t){t.forEach((e,n)=>{let r=Qt(n);i.style[r]=""})}function bt(i){return Array.isArray(i)?i.length==1?i[0]:Fi(i):i}function lr(i,t,e){let n=t.params||{},r=Wn(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(Xr(s))})}var qn=new RegExp(`${Kn}\\s*(.+?)\\s*${oo}`,"g");function Wn(i){let t=[];if(typeof i=="string"){let e;for(;e=qn.exec(i);)t.push(e[1]);qn.lastIndex=0}return t}function St(i,t,e){let n=`${i}`,r=n.replace(qn,(s,c)=>{let d=t[c];return d==null&&(e.push(Jr(c)),d=""),d.toString()});return r==n?i:r}var ao=/-+([a-z0-9])/g;function Qt(i){return i.replace(ao,(...t)=>t[1].toUpperCase())}function cr(i,t){return i===0||t===0}function mr(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,c)=>{n.has(c)||r.push(c),n.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,Wt(i,d)))}}return t}function Se(i,t,e){switch(t.type){case O.Trigger:return i.visitTrigger(t,e);case O.State:return i.visitState(t,e);case O.Transition:return i.visitTransition(t,e);case O.Sequence:return i.visitSequence(t,e);case O.Group:return i.visitGroup(t,e);case O.Animate:return i.visitAnimate(t,e);case O.Keyframes:return i.visitKeyframes(t,e);case O.Style:return i.visitStyle(t,e);case O.Reference:return i.visitReference(t,e);case O.AnimateChild:return i.visitAnimateChild(t,e);case O.AnimateRef:return i.visitAnimateRef(t,e);case O.Query:return i.visitQuery(t,e);case O.Stagger:return i.visitStagger(t,e);default:throw Zr(t.type)}}function Wt(i,t){return window.getComputedStyle(i)[t]}var di=(()=>{class i{validateStyleProperty(e){return sr(e)}containsElement(e,n){return Bn(e,n)}getParentElement(e){return Gt(e)}query(e,n,r){return Gn(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,c,d=[],p){return new Be(r,s)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=we({token:i,factory:i.\u0275fac})}return i})(),ot=class{static NOOP=new di},st=class{};var lo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Zt=class extends st{normalizePropertyName(t,e){return Qt(t)}normalizeStyleValue(t,e,n,r){let s="",c=n.toString().trim();if(lo.has(e)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let d=n.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&d[1].length==0&&r.push(Ni(t,n))}return c+s}};var en="*";function co(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>mo(n,e,t)):e.push(i),e}function mo(i,t,e){if(i[0]==":"){let p=uo(i,e);if(typeof p=="function"){t.push(p);return}i=p}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Qi(i)),t;let r=n[1],s=n[2],c=n[3];t.push(dr(r,c));let d=r==en&&c==en;s[0]=="<"&&!d&&t.push(dr(c,r))}function uo(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Wi(i)),"* => *"}}var Yt=new Set(["true","1"]),Ht=new Set(["false","0"]);function dr(i,t){let e=Yt.has(i)||Ht.has(i),n=Yt.has(t)||Ht.has(t);return(r,s)=>{let c=i==en||i==r,d=t==en||t==s;return!c&&e&&typeof r=="boolean"&&(c=r?Yt.has(i):Ht.has(i)),!d&&n&&typeof s=="boolean"&&(d=s?Yt.has(t):Ht.has(t)),c&&d}}var Sr=":self",po=new RegExp(`s*${Sr}s*,?`,"g");function Cr(i,t,e,n){return new ei(i).build(t,e,n)}var ur="",ei=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new ti(e);return this._resetContextStyleTimingState(r),Se(this,bt(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=ur,t.collectedStyles=new Map,t.collectedStyles.set(ur,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,s=[],c=[];return t.name.charAt(0)=="@"&&e.errors.push(Ri()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),d.type==O.State){let p=d,f=p.name;f.toString().split(/\s*,\s*/).forEach(_=>{p.name=_,s.push(this.visitState(p,e))}),p.name=f}else if(d.type==O.Transition){let p=this.visitTransition(d,e);n+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(Li())}),{type:O.Trigger,name:t.name,states:s,transitions:c,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,c=r||{};n.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{Wn(p).forEach(f=>{c.hasOwnProperty(f)||s.add(f)})})}),s.size&&e.errors.push(zi(t.name,[...s.values()]))}return{type:O.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Se(this,bt(t.animation),e),r=co(t.expr,e.errors);return{type:O.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:rt(t.options)}}visitSequence(t,e){return{type:O.Sequence,steps:t.steps.map(n=>Se(this,n,e)),options:rt(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,s=t.steps.map(c=>{e.currentTime=n;let d=Se(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:O.Group,steps:s,options:rt(t.options)}}visitAnimate(t,e){let n=_o(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:X({});if(s.type==O.Keyframes)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;let f={};n.easing&&(f.easing=n.easing),c=X(f)}e.currentTime+=n.duration+n.delay;let p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:O.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)typeof d=="string"?d===Ne?n.push(d):e.errors.push(Ui(d)):n.push(new Map(Object.entries(d)));let s=!1,c=null;return n.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s)){for(let p of d.values())if(p.toString().indexOf(Kn)>=0){s=!0;break}}}),{type:O.Style,styles:n,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(c=>{typeof c!="string"&&c.forEach((d,p)=>{let f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(p),y=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(qi(p,_.startTime,_.endTime,s,r)),y=!1),s=_.startTime),y&&f.set(p,{startTime:s,endTime:r}),e.options&&lr(d,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:O.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Vi()),n;let r=1,s=0,c=[],d=!1,p=!1,f=0,_=t.steps.map(ee=>{let te=this._makeStyleAst(ee,e),ae=te.offset!=null?te.offset:ho(te.styles),ie=0;return ae!=null&&(s++,ie=te.offset=ae),p=p||ie<0||ie>1,d=d||ie<f,f=ie,c.push(ie),te});p&&e.errors.push(ji()),d&&e.errors.push(Bi());let y=t.steps.length,k=0;s>0&&s<y?e.errors.push(Gi()):s==0&&(k=r/(y-1));let F=y-1,E=e.currentTime,A=e.currentAnimateTimings,Q=A.duration;return _.forEach((ee,te)=>{let ae=k>0?te==F?1:k*te:c[te],ie=ae*Q;e.currentTime=E+A.delay+ie,A.duration=ie,this._validateStyleAst(ee,e),ee.offset=ae,n.styles.push(ee)}),n}visitReference(t,e){return{type:O.Reference,animation:Se(this,bt(t.animation),e),options:rt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:O.AnimateChild,options:rt(t.options)}}visitAnimateRef(t,e){return{type:O.AnimateRef,animation:this.visitReference(t.animation,e),options:rt(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,c]=fo(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,be(e.collectedStyles,e.currentQuerySelector,new Map);let d=Se(this,bt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:O.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:rt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Ki());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:It(t.timings,e.errors,!0);return{type:O.Stagger,animation:Se(this,bt(t.animation),e),timings:n,options:null}}};function fo(i){let t=!!i.split(/\s*,\s*/).find(e=>e==Sr);return t&&(i=i.replace(po,"")),i=i.replace(/@\*/g,Tt).replace(/@\w+/g,e=>Tt+"-"+e.slice(1)).replace(/:animating/g,$t),[i,t]}function go(i){return i?mt({},i):null}var ti=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function ho(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function _o(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=It(i,t).duration;return Yn(s,0,"")}let e=i;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Yn(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=It(e,t);return Yn(r.duration,r.delay,r.easing)}function rt(i){return i?(i=mt({},i),i.params&&(i.params=go(i.params))):i={},i}function Yn(i,t,e){return{duration:i,delay:t,easing:e}}function ui(i,t,e,n,r,s,c=null,d=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}var At=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},vo=1,yo=":enter",bo=new RegExp(yo,"g"),So=":leave",Co=new RegExp(So,"g");function Er(i,t,e,n,r,s=new Map,c=new Map,d,p,f=[]){return new ni().buildKeyframes(i,t,e,n,r,s,c,d,p,f)}var ni=class{buildKeyframes(t,e,n,r,s,c,d,p,f,_=[]){f=f||new At;let y=new ii(t,e,f,r,s,_,[]);y.options=p;let k=p.delay?Ge(p.delay):0;y.currentTimeline.delayNextStep(k),y.currentTimeline.setStyles([c],null,y.errors,p),Se(this,n,y);let F=y.timelines.filter(E=>E.containsAnimation());if(F.length&&d.size){let E;for(let A=F.length-1;A>=0;A--){let Q=F[A];if(Q.element===e){E=Q;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([d],null,y.errors,p)}return F.length?F.map(E=>E.buildKeyframes()):[ui(e,[],[],[],0,k,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(n,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let s=r?.delay;if(s){let c=typeof s=="number"?s:Ge(St(s,r?.params??{},e.errors));n.delayNextStep(c)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime,c=n.duration!=null?Ge(n.duration):null,d=n.delay!=null?Ge(n.delay):null;return c!==0&&t.forEach(p=>{let f=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Se(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==O.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tn);let c=Ge(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Se(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?Ge(t.options.delay):0;t.steps.forEach(c=>{let d=e.createSubContext(t.options);s&&d.delayNextStep(s),Se(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),n.push(d.currentTimeline)}),n.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?St(n,e.params,e.errors):n;return It(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let s=t.style;s.type==O.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,d=e.createSubContext().currentTimeline;d.easing=n.easing,t.styles.forEach(p=>{let f=p.offset||0;d.forwardTime(f*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ge(r.delay):0;s&&(e.previousNode.type===O.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tn);let c=n,d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((f,_)=>{e.currentQueryIndex=_;let y=e.createSubContext(t.options,f);s&&y.delayNextStep(s),f===e.element&&(p=y.currentTimeline),Se(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe();let k=y.currentTimeline.currentTime;c=Math.max(c,k)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1),p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=n.currentStaggerTime;break}let _=e.currentTimeline;p&&_.delayNextStep(p);let y=_.currentTime;Se(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-y+(r.startTime-n.currentTimeline.startTime)}},tn={},ii=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=tn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.currentTimeline=p||new nn(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=Ge(n.duration)),n.delay!=null&&(r.delay=Ge(n.delay));let s=n.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=St(s[d],c,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=tn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new ri(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=t.replace(bo,"."+this._enterClassName),t=t.replace(Co,"."+this._leaveClassName);let p=n!=1,f=this._driver.query(this.element,t,p);n!==0&&(f=n<0?f.slice(f.length+n,f.length):f.slice(0,n)),d.push(...f)}return!s&&d.length==0&&c.push($i(e)),d}},nn=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=vo,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Ne),this._currentKeyframe.set(e,Ne);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},c=Eo(t,this._globalTimelineStyles);for(let[d,p]of c){let f=St(p,s,n);this._pendingStyles.set(d,f),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Ne),this._updateStyle(d,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((d,p)=>{let f=new Map([...this._backFill,...d]);f.forEach((_,y)=>{_===yt?t.add(y):_===Ne&&e.add(y)}),n||f.set("offset",p/this.duration),r.push(f)});let s=[...t.values()],c=[...e.values()];if(n){let d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return ui(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}},ri=class extends nn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],c=n+e,d=e/c,p=new Map(t[0]);p.set("offset",0),s.push(p);let f=new Map(t[0]);f.set("offset",pr(d)),s.push(f);let _=t.length-1;for(let y=1;y<=_;y++){let k=new Map(t[y]),F=k.get("offset"),E=e+F*n;k.set("offset",pr(E/c)),s.push(k)}n=c,e=0,r="",t=s}return ui(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function pr(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function Eo(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let s of n)e.set(s,Ne)}else for(let[s,c]of r)e.set(s,c)}),e}function fr(i,t,e,n,r,s,c,d,p,f,_,y,k){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:c,timelines:d,queriedElements:p,preStyleProps:f,postStyleProps:_,totalTime:y,errors:k}}var Hn={},rn=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return xo(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,c,d,p,f,_){let y=[],k=this.ast.options&&this.ast.options.params||Hn,F=d&&d.params||Hn,E=this.buildStyles(n,F,y),A=p&&p.params||Hn,Q=this.buildStyles(r,A,y),ee=new Set,te=new Map,ae=new Map,ie=r==="void",lt={params:xr(A,k),delay:this.ast.options?.delay},Ve=_?[]:Er(t,e,this.ast.animation,s,c,E,Q,lt,f,y),le=0;return Ve.forEach(me=>{le=Math.max(me.duration+me.delay,le)}),y.length?fr(e,this._triggerName,n,r,ie,E,Q,[],[],te,ae,le,y):(Ve.forEach(me=>{let Ze=me.element,ct=be(te,Ze,new Set);me.preStyleProps.forEach(et=>ct.add(et));let fi=be(ae,Ze,new Set);me.postStyleProps.forEach(et=>fi.add(et)),Ze!==e&&ee.add(Ze)}),fr(e,this._triggerName,n,r,ie,E,Q,Ve,[...ee.values()],te,ae,le))}};function xo(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}function xr(i,t){let e=mt({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var oi=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=xr(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((c,d)=>{c&&(c=St(c,r,e));let p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),n.set(d,c)})}),n}};function Mo(i,t,e){return new si(i,t,e)}var si=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new oi(r.style,s,n))}),gr(this.states,"true","1"),gr(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new rn(t,r,this.states))}),this.fallbackTransition=Po(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(c=>c.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function Po(i,t,e){let n=[(c,d)=>!0],r={type:O.Sequence,steps:[],options:null},s={type:O.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new rn(i,s,t)}function gr(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var To=new At,ai=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],s=Cr(this._driver,e,n,r);if(n.length)throw Hi(n);this._animations.set(t,s)}_buildPlayer(t,e,n){let r=t.element,s=Vn(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],s=this._animations.get(t),c,d=new Map;if(s?(c=Er(this._driver,e,s,$n,Kt,new Map,new Map,n,To,r),c.forEach(_=>{let y=be(d,_.element,new Map);_.postStyleProps.forEach(k=>y.set(k,null))})):(r.push(Xi()),c=[]),r.length)throw Ji(r);d.forEach((_,y)=>{_.forEach((k,F)=>{_.set(F,this._driver.computeStyle(y,F,Ne))})});let p=c.map(_=>{let y=d.get(_.element);return this._buildPlayer(_,new Map,y)}),f=Ke(p);return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Zi(t);return e}listen(t,e,n,r){let s=Bt(e,"","","");return jt(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let c=r[0]||{};this.create(t,e,c);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},hr="ng-animate-queued",Io=".ng-animate-queued",Xn="ng-animate-disabled",wo=".ng-animate-disabled",Ao="ng-star-inserted",Oo=".ng-star-inserted",Fo=[],Mr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Do={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ze="__ng_removed",Ot=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=No(r),n){let s=t,{value:c}=s,d=yi(s,["value"]);this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},wt="void",Jn=new Ot(wt),li=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Re(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw er(n,e);if(n==null||n.length==0)throw tr(e);if(!Ro(n))throw nr(n,e);let s=be(this._elementListeners,t,[]),c={name:e,phase:n,callback:r};s.push(c);let d=be(this._engine.statesByElement,t,new Map);return d.has(e)||(Re(t,Pt),Re(t,Pt+"-"+e),d.set(e,Jn)),()=>{this._engine.afterFlush(()=>{let p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ir(t);return e}trigger(t,e,n,r=!0){let s=this._getTrigger(e),c=new Ft(this.id,e,t),d=this._engine.statesByElement.get(t);d||(Re(t,Pt),Re(t,Pt+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e),f=new Ot(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&p&&f.absorbOptions(p.options),d.set(e,f),p||(p=Jn),!(f.value===wt)&&p.value===f.value){if(!Uo(p.params,f.params)){let A=[],Q=s.matchStyles(p.value,p.params,A),ee=s.matchStyles(f.value,f.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Je(t,Q),Le(t,ee)})}return}let k=be(this._engine.playersByElement,t,[]);k.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let F=s.matchTransition(p.value,f.value,t,f.params),E=!1;if(!F){if(!r)return;F=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:p,toState:f,player:c,isFallbackTransition:E}),E||(Re(t,hr),c.onStart(()=>{Ct(t,hr)})),c.onDone(()=>{let A=this.players.indexOf(c);A>=0&&this.players.splice(A,1);let Q=this._engine.playersByElement.get(t);if(Q){let ee=Q.indexOf(c);ee>=0&&Q.splice(ee,1)}}),this.players.push(c),k.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Tt,!0);n.forEach(r=>{if(r[ze])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let s=this._engine.statesByElement.get(t),c=new Map;if(s){let d=[];if(s.forEach((p,f)=>{if(c.set(f,p.value),this._triggers.has(f)){let _=this.trigger(t,f,wt,r);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),n&&Ke(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(s=>{let c=s.name;if(r.has(c))return;r.add(c);let p=this._triggers.get(c).fallbackTransition,f=n.get(c)||Jn,_=new Ot(wt),y=new Ft(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:f,toState:_,player:y,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(n.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let s=t[ze];(!s||s===Mr)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Re(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==n.triggerName){let p=Bt(s,n.triggerName,n.fromState.value,n.toState.value);p._data=t,jt(n.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let s=n.transition.ast.depCount,c=r.transition.ast.depCount;return s==0||c==0?s-c:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ci=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new li(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){let p=r.get(d);if(p){let f=n.indexOf(p);n.splice(f+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,n,r){if(Xt(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Xt(e))return;let s=e[ze];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){let c=this._fetchNamespace(t);c&&c.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Re(t,Xn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ct(t,Xn))}removeNode(t,e,n){if(Xt(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[ze]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return Xt(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Tt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,$t,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ke(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ze];if(e&&e.setForRemoval){if(t[ze]=Mr,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Xn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,wo,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Re(r,Ao)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Ke(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw rr(t)}_flushAnimations(t,e){let n=new At,r=[],s=new Map,c=[],d=new Map,p=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(C=>{_.add(C);let x=this.driver.query(C,Io,!0);for(let T=0;T<x.length;T++)_.add(x[T])});let y=this.bodyNode,k=Array.from(this.statesByElement.keys()),F=yr(k,this.collectedEnterElements),E=new Map,A=0;F.forEach((C,x)=>{let T=$n+A++;E.set(x,T),C.forEach(R=>Re(R,T))});let Q=[],ee=new Set,te=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let x=this.collectedLeaveElements[C],T=x[ze];T&&T.setForRemoval&&(Q.push(x),ee.add(x),T.hasAnimation?this.driver.query(x,Oo,!0).forEach(R=>ee.add(R)):te.add(x))}let ae=new Map,ie=yr(k,Array.from(ee));ie.forEach((C,x)=>{let T=Kt+A++;ae.set(x,T),C.forEach(R=>Re(R,T))}),t.push(()=>{F.forEach((C,x)=>{let T=E.get(x);C.forEach(R=>Ct(R,T))}),ie.forEach((C,x)=>{let T=ae.get(x);C.forEach(R=>Ct(R,T))}),Q.forEach(C=>{this.processLeaveNode(C)})});let lt=[],Ve=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(T=>{let R=T.player,ne=T.element;if(lt.push(R),this.collectedEnterElements.length){let oe=ne[ze];if(oe&&oe.setForMove){if(oe.previousTriggersValues&&oe.previousTriggersValues.has(T.triggerName)){let tt=oe.previousTriggersValues.get(T.triggerName),Ie=this.statesByElement.get(T.element);if(Ie&&Ie.has(T.triggerName)){let Nt=Ie.get(T.triggerName);Nt.value=tt,Ie.set(T.triggerName,Nt)}}R.destroy();return}}let je=!y||!this.driver.containsElement(y,ne),Ce=ae.get(ne),Qe=E.get(ne),Y=this._buildInstruction(T,n,Qe,Ce,je);if(Y.errors&&Y.errors.length){Ve.push(Y);return}if(je){R.onStart(()=>Je(ne,Y.fromStyles)),R.onDestroy(()=>Le(ne,Y.toStyles)),r.push(R);return}if(T.isFallbackTransition){R.onStart(()=>Je(ne,Y.fromStyles)),R.onDestroy(()=>Le(ne,Y.toStyles)),r.push(R);return}let _i=[];Y.timelines.forEach(oe=>{oe.stretchStartingKeyframe=!0,this.disabledNodes.has(oe.element)||_i.push(oe)}),Y.timelines=_i,n.append(ne,Y.timelines);let jr={instruction:Y,player:R,element:ne};c.push(jr),Y.queriedElements.forEach(oe=>be(d,oe,[]).push(R)),Y.preStyleProps.forEach((oe,tt)=>{if(oe.size){let Ie=p.get(tt);Ie||p.set(tt,Ie=new Set),oe.forEach((Nt,Nn)=>Ie.add(Nn))}}),Y.postStyleProps.forEach((oe,tt)=>{let Ie=f.get(tt);Ie||f.set(tt,Ie=new Set),oe.forEach((Nt,Nn)=>Ie.add(Nn))})});if(Ve.length){let C=[];Ve.forEach(x=>{C.push(or(x.triggerName,x.errors))}),lt.forEach(x=>x.destroy()),this.reportError(C)}let le=new Map,me=new Map;c.forEach(C=>{let x=C.element;n.has(x)&&(me.set(x,x),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,le))}),r.forEach(C=>{let x=C.element;this._getPreviousPlayers(x,!1,C.namespaceId,C.triggerName,null).forEach(R=>{be(le,x,[]).push(R),R.destroy()})});let Ze=Q.filter(C=>br(C,p,f)),ct=new Map;vr(ct,this.driver,te,f,Ne).forEach(C=>{br(C,p,f)&&Ze.push(C)});let et=new Map;F.forEach((C,x)=>{vr(et,this.driver,new Set(C),p,yt)}),Ze.forEach(C=>{let x=ct.get(C),T=et.get(C);ct.set(C,new Map([...x?.entries()??[],...T?.entries()??[]]))});let kn=[],gi=[],hi={};c.forEach(C=>{let{element:x,player:T,instruction:R}=C;if(n.has(x)){if(_.has(x)){T.onDestroy(()=>Le(x,R.toStyles)),T.disabled=!0,T.overrideTotalTime(R.totalTime),r.push(T);return}let ne=hi;if(me.size>1){let Ce=x,Qe=[];for(;Ce=Ce.parentNode;){let Y=me.get(Ce);if(Y){ne=Y;break}Qe.push(Ce)}Qe.forEach(Y=>me.set(Y,ne))}let je=this._buildAnimation(T.namespaceId,R,le,s,et,ct);if(T.setRealPlayer(je),ne===hi)kn.push(T);else{let Ce=this.playersByElement.get(ne);Ce&&Ce.length&&(T.parentPlayer=Ke(Ce)),r.push(T)}}else Je(x,R.fromStyles),T.onDestroy(()=>Le(x,R.toStyles)),gi.push(T),_.has(x)&&r.push(T)}),gi.forEach(C=>{let x=s.get(C.element);if(x&&x.length){let T=Ke(x);C.setRealPlayer(T)}}),r.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<Q.length;C++){let x=Q[C],T=x[ze];if(Ct(x,Kt),T&&T.hasAnimation)continue;let R=[];if(d.size){let je=d.get(x);je&&je.length&&R.push(...je);let Ce=this.driver.query(x,$t,!0);for(let Qe=0;Qe<Ce.length;Qe++){let Y=d.get(Ce[Qe]);Y&&Y.length&&R.push(...Y)}}let ne=R.filter(je=>!je.destroyed);ne.length?Lo(this,x,ne):this.processLeaveNode(x)}return Q.length=0,kn.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let x=this.players.indexOf(C);this.players.splice(x,1)}),C.play()}),kn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let c=[];if(e){let d=this.playersByQueriedElement.get(t);d&&(c=d)}else{let d=this.playersByElement.get(t);if(d){let p=!s||s==wt;d.forEach(f=>{f.queued||!p&&f.triggerName!=r||c.push(f)})}}return(n||r)&&(c=c.filter(d=>!(n&&n!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,n){let r=e.triggerName,s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:r;for(let p of e.timelines){let f=p.element,_=f!==s,y=be(n,f,[]);this._getPreviousPlayers(f,_,c,d,e.toState).forEach(F=>{let E=F.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),F.destroy(),y.push(F)})}Je(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,c){let d=e.triggerName,p=e.element,f=[],_=new Set,y=new Set,k=e.timelines.map(E=>{let A=E.element;_.add(A);let Q=A[ze];if(Q&&Q.removedBeforeQueried)return new Be(E.duration,E.delay);let ee=A!==p,te=zo((n.get(A)||Fo).map(le=>le.getRealPlayer())).filter(le=>{let me=le;return me.element?me.element===A:!1}),ae=s.get(A),ie=c.get(A),lt=Vn(this._normalizer,E.keyframes,ae,ie),Ve=this._buildPlayer(E,lt,te);if(E.subTimeline&&r&&y.add(A),ee){let le=new Ft(t,d,A);le.setRealPlayer(Ve),f.push(le)}return Ve});f.forEach(E=>{be(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>ko(this.playersByQueriedElement,E.element,E))}),_.forEach(E=>Re(E,Qn));let F=Ke(k);return F.onDestroy(()=>{_.forEach(E=>Ct(E,Qn)),Le(p,e.toStyles)}),y.forEach(E=>{be(r,E,[]).push(F)}),F}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Be(t.duration,t.delay)}},Ft=class{namespaceId;triggerName;element;_player=new Be;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>jt(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){be(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ko(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function No(i){return i??null}function Xt(i){return i&&i.nodeType===1}function Ro(i){return i=="start"||i=="done"}function _r(i,t){let e=i.style.display;return i.style.display=t??"none",e}function vr(i,t,e,n,r){let s=[];e.forEach(p=>s.push(_r(p)));let c=[];n.forEach((p,f)=>{let _=new Map;p.forEach(y=>{let k=t.computeStyle(f,y,r);_.set(y,k),(!k||k.length==0)&&(f[ze]=Do,c.push(f))}),i.set(f,_)});let d=0;return e.forEach(p=>_r(p,s[d++])),c}function yr(i,t){let e=new Map;if(i.forEach(d=>e.set(d,[])),t.length==0)return e;let n=1,r=new Set(t),s=new Map;function c(d){if(!d)return n;let p=s.get(d);if(p)return p;let f=d.parentNode;return e.has(f)?p=f:r.has(f)?p=n:p=c(f),s.set(d,p),p}return t.forEach(d=>{let p=c(d);p!==n&&e.get(p).push(d)}),e}function Re(i,t){i.classList?.add(t)}function Ct(i,t){i.classList?.remove(t)}function Lo(i,t,e){Ke(e).onDone(()=>i.processLeaveNode(t))}function zo(i){let t=[];return Pr(i,t),t}function Pr(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof nt?Pr(n.players,t):t.push(n)}}function Uo(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}function br(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}var Et=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new ci(t.body,e,n),this._timelineEngine=new ai(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){let c=t+"-"+r,d=this._triggerCache[c];if(!d){let p=[],f=[],_=Cr(this._driver,s,p,f);if(p.length)throw Yi(r,p);d=Mo(r,_,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[s,c]=jn(n),d=r;this._timelineEngine.command(s,e,c,d)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if(n.charAt(0)=="@"){let[c,d]=jn(n);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function qo(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Zn(t[0]),t.length>1&&(n=Zn(t[t.length-1]))):t instanceof Map&&(e=Zn(t)),e||n?new Vo(i,e,n):null}var Vo=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Le(this._element,this._initialStyles),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Je(this._element,this._endStyles),this._endStyles=null),Le(this._element,this._initialStyles),this._state=3)}}return i})();function Zn(i){let t=null;return i.forEach((e,n)=>{jo(n)&&(t=t||new Map,t.set(n,e))}),t}function jo(i){return i==="display"||i==="position"}var on=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Wt(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},sn=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Bn(t,e)}getParentElement(t){return Gt(t)}query(t,e,n){return Gn(t,e,n)}computeStyle(t,e,n){return Wt(t,e)}animate(t,e,n,r,s,c=[]){let d=r==0?"both":"forwards",p={duration:n,delay:r,fill:d};s&&(p.easing=s);let f=new Map,_=c.filter(F=>F instanceof on);cr(n,r)&&_.forEach(F=>{F.currentSnapshot.forEach((E,A)=>f.set(A,E))});let y=ar(e).map(F=>new Map(F));y=mr(t,y,f);let k=qo(t,y);return new on(t,y,p,k)}};var Jt="@",Tr="@.disabled",an=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Jt&&e==Tr?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},mi=class extends an{factory;constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Jt?e.charAt(1)=="."&&e==Tr?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==Jt){let s=Bo(t),c=e.slice(1),d="";return c.charAt(0)!=Jt&&([c,d]=Go(c)),this.engine.listen(this.namespaceId,s,c,d,p=>{let f=p._data||-1;this.factory.scheduleListenerCallback(f,n,p)})}return this.delegate.listen(t,e,n,r)}};function Bo(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Go(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var ln=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let f=this._rendererCache,_=f.get(r);if(!_){let y=()=>f.delete(r);_=new an(n,r,this.engine,y),f.set(r,_)}return _}let s=e.id,c=e.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);let d=f=>{Array.isArray(f)?f.forEach(d):this.engine.registerTrigger(s,c,t,f.name,f)};return e.data.animation.forEach(d),new mi(this,c,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var $o=(()=>{class i extends Et{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(se(xi),se(ot),se(st))};static \u0275prov=we({token:i,factory:i.\u0275fac})}return i})();function Qo(){return new Zt}function Wo(i,t,e){return new ln(i,t,e)}var Ir=[{provide:st,useFactory:Qo},{provide:Et,useClass:$o},{provide:Ei,useFactory:Wo,deps:[Mi,Et,bi]}],Yl=[{provide:ot,useClass:di},{provide:Rn,useValue:"NoopAnimations"},...Ir],Yo=[{provide:ot,useFactory:()=>new sn},{provide:Rn,useFactory:()=>"BrowserAnimations"},...Ir];function wr(){return Si("NgEagerAnimations"),[...Yo]}var cn=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-about"]],decls:8,vars:0,consts:[[1,"about"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h1"),l(2,"\xC0 propos"),o(),a(3,"p"),l(4," Cette plateforme a \xE9t\xE9 con\xE7ue pour simplifier la gestion des stages et des alternances entre \xE9tudiants, entreprises et administrateurs. "),b(5,"br")(6,"br"),l(7," Notre objectif est de faciliter la recherche, la candidature et le suivi de stages. "),o()())},dependencies:[P],styles:[".about[_ngcontent-%COMP%]{text-align:center;margin-top:80px;padding:20px;height:80vh}.about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;color:#007bff}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.6;color:#444}"]})};var mn=class i{constructor(t){this.router=t}choisirEtudiant(){this.router.navigate(["/etudiants/create"])}choisirEntreprise(){this.router.navigate(["/entreprises/create"])}static \u0275fac=function(e){return new(e||i)(h(D))};static \u0275cmp=M({type:i,selectors:[["app-choix-inscription"]],decls:10,vars:0,consts:[[1,"choix-inscription-container"],[1,"boutons-container"],[3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Cr\xE9er un compte"),o(),a(3,"p"),l(4,"Veuillez choisir votre type de compte :"),o(),a(5,"div",1)(6,"button",2),w("click",function(){return n.choisirEtudiant()}),l(7,"Je suis \xC9tudiant \u{1F393}"),o(),a(8,"button",2),w("click",function(){return n.choisirEntreprise()}),l(9,"Je repr\xE9sente une Entreprise \u{1F3E2}"),o()()())},dependencies:[P],styles:[".choix-inscription-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px;height:80vh}.choix-inscription-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;margin-bottom:20px}.choix-inscription-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:40px}.boutons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}button[_ngcontent-%COMP%]{padding:15px 30px;font-size:18px;border:none;border-radius:8px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var dn=class i{constructor(t,e,n){this.fb=t;this.router=e;this.alertService=n;this.contactForm=this.fb.group({nom:["",I.required],email:["",[I.required,I.email]],message:["",I.required]})}contactForm;message="";messageType="";onSubmit(){this.contactForm.valid?(console.log("Message envoy\xE9 !",this.contactForm.value),this.messageType="success",this.message="\u2705 Votre message a \xE9t\xE9 envoy\xE9 !",this.alertService.success(this.message).then(()=>{this.contactForm.reset()})):(this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs correctement.",this.alertService.error(this.message))}static \u0275fac=function(e){return new(e||i)(h(ve),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-contact"]],decls:15,vars:1,consts:[[1,"contact"],[3,"ngSubmit","formGroup"],["type","text","formControlName","nom"],["type","email","autocomplete","email","formControlName","email"],["formControlName","message"],["type","submit"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"form",1),w("ngSubmit",function(){return n.onSubmit()}),a(2,"h1"),l(3,"Contactez-nous"),o(),a(4,"label"),l(5,"Nom :"),o(),b(6,"input",2),a(7,"label"),l(8,"Email :"),o(),b(9,"input",3),a(10,"label"),l(11,"Message :"),o(),b(12,"textarea",4),a(13,"button",5),l(14,"Envoyer"),o()()()),e&2&&(m(),u("formGroup",n.contactForm))},dependencies:[P,ye,ge,pe,J,fe,he,_e],styles:[".contact[_ngcontent-%COMP%]{text-align:center;margin-top:80px;padding:20px;height:80vh}.contact[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;color:#007bff}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;max-width:600px;margin:2rem auto;padding:1rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}.contact[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:300px;margin:10px 0;padding:10px;border:1px solid #ccc;border-radius:5px}.contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}.contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}"]})};var Dt=class i{constructor(t){this.router=t}goToStages(){this.router.navigate(["/stages"])}static \u0275fac=function(e){return new(e||i)(h(D))};static \u0275cmp=M({type:i,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"home"],[3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h1"),l(2,"Bienvenue sur la plateforme de gestion de stages et d'alternances"),o(),a(3,"p"),l(4,"Recherchez, postulez et administrez vos stages facilement."),o(),a(5,"button",1),w("click",function(){return n.goToStages()}),l(6,"Voir les offres"),o()())},dependencies:[P],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}p[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:1rem}.home[_ngcontent-%COMP%]{text-align:center;margin-top:80px;height:80vh}.home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333}.home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:30px}.home[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;background-color:#007bff;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}.home[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var Ho=()=>["/choix-inscription"];function Xo(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email est requis."),o())}function Jo(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email n'est pas valide."),o())}function Zo(i,t){if(i&1&&(a(0,"div",8),g(1,Xo,2,0,"span",9)(2,Jo,2,0,"span",9),o()),i&2){let e,n,r=v();m(),u("ngIf",(e=r.loginForm.get("email"))==null||e.errors==null?null:e.errors.required),m(),u("ngIf",(n=r.loginForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function es(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le mot de passe est requis."),o())}function ts(i,t){if(i&1&&(a(0,"div",8),g(1,es,2,0,"span",9),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.loginForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function ns(i,t){if(i&1&&(a(0,"p",8),l(1),o()),i&2){let e=v();m(),Ae(e.errorMessage)}}var un=class i{constructor(t,e,n){this.fb=t;this.authService=e;this.router=n;this.loginForm=this.fb.group({email:["",[I.required,I.email]],password:["",I.required]})}loginForm;errorMessage="";onSubmit(){if(this.loginForm.valid){let{email:t,password:e}=this.loginForm.value;this.authService.login(t,e).subscribe({next:n=>{this.authService.saveUser(n);let r=n.user.role;r==="ADMIN"||r==="SUPER_ADMIN"?this.router.navigate(["/home"]):r==="ETUDIANT"?this.router.navigate(["/home"]):r==="ENTREPRISE"?this.router.navigate(["/home"]):this.router.navigate(["/"])},error:n=>{console.error("Erreur de connexion",n),this.errorMessage="Identifiants invalides. Veuillez r\xE9essayer."}})}else this.errorMessage="Merci de remplir tous les champs."}static \u0275fac=function(e){return new(e||i)(h(ve),h(q),h(D))};static \u0275cmp=M({type:i,selectors:[["app-login"]],decls:20,vars:7,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit","formGroup"],["type","email","autocomplete","email","formControlName","email"],["class","error",4,"ngIf"],["type","password","autocomplete","current-password","formControlName","password"],["type","submit",3,"disabled"],[1,"inscription-link"],[3,"routerLink"],[1,"error"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"div",0)(1,"h2"),l(2,"Connexion"),o(),a(3,"form",1),w("ngSubmit",function(){return n.onSubmit()}),a(4,"label"),l(5,"Email :"),o(),b(6,"input",2),g(7,Zo,3,2,"div",3),a(8,"label"),l(9,"Mot de passe :"),o(),b(10,"input",4),g(11,ts,2,1,"div",3),a(12,"button",5),l(13,"Se connecter"),o(),g(14,ns,2,1,"p",3),o(),a(15,"div",6)(16,"p"),l(17,"Pas encore de compte ? "),a(18,"a",7),l(19,"S'inscrire ici"),o()()()()),e&2){let r,s;m(3),u("formGroup",n.loginForm),m(4),u("ngIf",((r=n.loginForm.get("email"))==null?null:r.invalid)&&((r=n.loginForm.get("email"))==null?null:r.touched)),m(4),u("ngIf",((s=n.loginForm.get("password"))==null?null:s.invalid)&&((s=n.loginForm.get("password"))==null?null:s.touched)),m(),u("disabled",n.loginForm.invalid),m(2),u("ngIf",n.errorMessage),m(4),u("routerLink",z(6,Ho))}},dependencies:[P,V,ye,ge,pe,J,fe,he,_e,U],styles:[".login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:50px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 0 15px #0000001a}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:10px 0 5px;font-weight:700}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;font-weight:700;border:none;border-radius:5px;cursor:pointer}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;margin-top:10px;text-align:center}.inscription-link[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.inscription-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.inscription-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var pn=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-unauthorized"]],decls:10,vars:0,consts:[[1,"unauthorized-container"],[1,"unauthorized-card"],[1,"emoji"],["routerLink","/home",1,"back-button"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),l(3,"\u{1F6AB}"),o(),a(4,"h2"),l(5,"Acc\xE8s refus\xE9"),o(),a(6,"p"),l(7,"Vous n'avez pas l'autorisation d'acc\xE9der \xE0 cette page."),o(),a(8,"a",3),l(9,"Retour \xE0 l'accueil"),o()()())},dependencies:[P,U],styles:[".unauthorized-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh;background-color:#f8f9fa;text-align:center}.unauthorized-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:12px;box-shadow:0 4px 20px #0000001a;max-width:400px;width:90%}.emoji[_ngcontent-%COMP%]{font-size:64px;margin-bottom:10px}h2[_ngcontent-%COMP%]{color:#dc3545;font-size:1.8rem;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:25px;color:#333}.back-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#007bff;color:#fff;border-radius:6px;text-decoration:none;transition:background-color .3s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var is=()=>["/admins/create"],rs=i=>["/admins",i];function os(i,t){if(i&1&&(a(0,"div",5)(1,"h3"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"button",6),l(16,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(2),de("",e.nom," ",e.prenom,""),m(4),S(" ",e.user.email,""),m(4),S(" ",e.telephone,""),m(4),S(" ",e.adresse,""),m(),u("routerLink",Oe(7,rs,e.id))}}var fn=class i{constructor(t){this.adminService=t}admins=[];ngOnInit(){this.adminService.getAllAdmins().subscribe({next:t=>this.admins=t,error:t=>console.error("Erreur API :",t)})}voirDetail(t){console.log("Admin s\xE9lectionn\xE9 :",t),alert(`Admin : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(ht))};static \u0275cmp=M({type:i,selectors:[["app-admin-list"]],decls:8,vars:3,consts:[[1,"page-header"],[1,"actions"],[1,"add-btn",3,"routerLink"],[1,"list"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"routerLink"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des admins "),o(),a(3,"div",1)(4,"button",2),l(5,"Ajouter"),o()()(),a(6,"div",3),g(7,os,17,9,"div",4),o()),e&2&&(m(4),u("routerLink",z(2,is)),m(3),u("ngForOf",n.admins))},dependencies:[P,ue,De,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};function ss(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le nom est requis."),o())}function as(i,t){if(i&1&&(a(0,"div",10),g(1,ss,2,0,"span",11),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.adminForm.get("nom"))==null||e.errors==null?null:e.errors.required)}}function ls(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le prenom est requis."),o())}function cs(i,t){if(i&1&&(a(0,"div",10),g(1,ls,2,0,"span",11),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.adminForm.get("prenom"))==null||e.errors==null?null:e.errors.required)}}function ms(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email est requis."),o())}function ds(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email n'est pas valide."),o())}function us(i,t){if(i&1&&(a(0,"div",10),g(1,ms,2,0,"span",11)(2,ds,2,0,"span",11),o()),i&2){let e,n,r=v();m(),u("ngIf",(e=r.adminForm.get("email"))==null||e.errors==null?null:e.errors.required),m(),u("ngIf",(n=r.adminForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function ps(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le numero de telephone est requis."),o())}function fs(i,t){if(i&1&&(a(0,"div",10),g(1,ps,2,0,"span",11),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.adminForm.get("telephone"))==null||e.errors==null?null:e.errors.required)}}function gs(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'adresse est requis."),o())}function hs(i,t){if(i&1&&(a(0,"div",10),g(1,gs,2,0,"span",11),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.adminForm.get("adresse"))==null||e.errors==null?null:e.errors.required)}}function _s(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le mot de passe est requis."),o())}function vs(i,t){if(i&1&&(a(0,"div",10),g(1,_s,2,0,"span",11),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.adminForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function ys(i,t){i&1&&(a(0,"div",10),l(1," \u274C Les mots de passe ne correspondent pas. "),o())}var gn=class i{constructor(t,e,n,r,s){this.fb=t;this.adminService=e;this.userService=n;this.router=r;this.alertService=s;this.adminForm=this.fb.group({nom:["",I.required],prenom:["",I.required],email:["",[I.required,I.email]],telephone:["",I.required],adresse:["",I.required],password:["",I.required],confirmPassword:["",I.required]},{validators:this.passwordsMatchValidator})}adminForm;message="";messageType="";passwordsMatchValidator(t){let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}onSubmit(){if(this.adminForm.valid){if(this.adminForm.hasError("passwordMismatch")){this.messageType="error",this.message="\u274C Les mots de passe ne correspondent pas.",this.alertService.error(this.message);return}let t={email:this.adminForm.value.email,password:this.adminForm.value.password,role:"ADMIN"};this.userService.createUser(t).subscribe({next:e=>{let n={nom:this.adminForm.value.nom,prenom:this.adminForm.value.prenom,telephone:this.adminForm.value.telephone,adresse:this.adminForm.value.adresse,user:e};this.adminService.createAdmin(n).subscribe({next:()=>{this.messageType="success",this.message="\u2705 Admin cr\xE9\xE9 avec succ\xE8s !",this.alertService.success(this.message).then(()=>{this.router.navigate(["/admins"])})},error:r=>{console.error("Erreur lors de la cr\xE9ation de l'admin",r),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'admin.",this.alertService.error(this.message)}})},error:e=>{console.error("Erreur lors de la cr\xE9ation du user",e),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'utilisateur.",this.alertService.error(this.message)}})}else this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs requis.",this.alertService.error(this.message)}static \u0275fac=function(e){return new(e||i)(h(ve),h(ht),h(ke),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-admin-form"]],decls:33,vars:9,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","nom"],["class","error",4,"ngIf"],["type","text","formControlName","prenom"],["type","email","autocomplete","email","formControlName","email"],["type","text","formControlName","telephone"],["type","text","formControlName","adresse"],["type","password","autocomplete","current-password","formControlName","password"],["type","password","autocomplete","current-password","formControlName","confirmPassword"],["type","submit",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"h2"),l(1,"Cr\xE9er un admin"),o(),a(2,"form",0),w("ngSubmit",function(){return n.onSubmit()}),a(3,"label"),l(4,"Nom :"),o(),b(5,"input",1),g(6,as,2,1,"div",2),a(7,"label"),l(8,"Prenom :"),o(),b(9,"input",3),g(10,cs,2,1,"div",2),a(11,"label"),l(12,"Email :"),o(),b(13,"input",4),g(14,us,3,2,"div",2),a(15,"label"),l(16,"T\xE9l\xE9phone :"),o(),b(17,"input",5),g(18,fs,2,1,"div",2),a(19,"label"),l(20,"Adresse :"),o(),b(21,"input",6),g(22,hs,2,1,"div",2),a(23,"label"),l(24,"Mot de Passe :"),o(),b(25,"input",7),g(26,vs,2,1,"div",2),a(27,"label"),l(28,"Confirmation du mot de passe :"),o(),b(29,"input",8),g(30,ys,2,0,"div",2),a(31,"button",9),l(32,"Cr\xE9er"),o()()),e&2){let r,s,c,d,p,f;m(2),u("formGroup",n.adminForm),m(4),u("ngIf",((r=n.adminForm.get("nom"))==null?null:r.invalid)&&((r=n.adminForm.get("nom"))==null?null:r.touched)),m(4),u("ngIf",((s=n.adminForm.get("prenom"))==null?null:s.invalid)&&((s=n.adminForm.get("prenom"))==null?null:s.touched)),m(4),u("ngIf",((c=n.adminForm.get("email"))==null?null:c.invalid)&&((c=n.adminForm.get("email"))==null?null:c.touched)),m(4),u("ngIf",((d=n.adminForm.get("telephone"))==null?null:d.invalid)&&((d=n.adminForm.get("telephone"))==null?null:d.touched)),m(4),u("ngIf",((p=n.adminForm.get("adresse"))==null?null:p.invalid)&&((p=n.adminForm.get("adresse"))==null?null:p.touched)),m(4),u("ngIf",((f=n.adminForm.get("password"))==null?null:f.invalid)&&((f=n.adminForm.get("password"))==null?null:f.touched)),m(4),u("ngIf",n.adminForm.hasError("passwordMismatch")&&n.adminForm.touched),m(),u("disabled",n.adminForm.invalid)}},dependencies:[P,V,ye,ge,pe,J,fe,he,_e],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#1e3a8a}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:.8rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#94a3b8;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.success[_ngcontent-%COMP%]{color:green;margin-bottom:10px}.error[_ngcontent-%COMP%]{color:red;margin-bottom:10px}"]})};var Or=()=>["/admins"];function bs(i,t){if(i&1){let e=H();a(0,"button",6),w("click",function(){j(e);let r=v(2);return B(r.logout())}),l(1,"D\xE9connexion"),o()}}function Ss(i,t){if(i&1){let e=H();a(0,"div")(1,"h2"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"div",1)(16,"button",2),w("click",function(){j(e);let r=v();return B(r.modifierAdmin())}),l(17,"Modifier \u270F\uFE0F"),o(),a(18,"button",3),w("click",function(){j(e);let r=v();return B(r.supprimerAdmin())}),l(19,"Supprimer \u{1F5D1}\uFE0F"),o(),g(20,bs,2,0,"button",4),o(),b(21,"br"),a(22,"button",5),l(23,"\u2190 Retour \xE0 la liste"),o()()}if(i&2){let e=v();m(2),de("",e.admin.nom," ",e.admin.prenom,""),m(4),S(" ",e.admin.user.email,""),m(4),S(" ",e.admin.telephone,""),m(4),S(" ",e.admin.adresse,""),m(6),u("ngIf",e.authService.isLoggedIn()),m(2),u("routerLink",z(7,Or))}}function Cs(i,t){i&1&&(a(0,"div")(1,"div",7)(2,"p"),l(3,"\u{1F6AB} Aucun admin trouv\xE9 pour cet identifiant."),o(),a(4,"button",5),l(5,"\u2190 Retour \xE0 la liste"),o()()()),i&2&&(m(4),u("routerLink",z(1,Or)))}var hn=class i{constructor(t,e,n,r,s){this.authService=t;this.route=e;this.router=n;this.adminService=r;this.alertService=s}admin;adminId;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.adminId=+t,this.adminService.getAdminById(+t).subscribe({next:e=>{this.admin=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du admin :",e),this.admin=void 0}}))}modifierAdmin(){this.adminId&&this.router.navigate(["/admins/edit",this.adminId])}supprimerAdmin(){this.adminId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer cet administrateur ?").then(t=>{t.isConfirmed&&this.adminId&&this.adminService.deleteAdmin(this.adminId).subscribe(()=>{this.alertService.success("La administrateur a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/admins"])})})}):console.error("Pas d'ID trouv\xE9 !")}logout(){this.authService.logout(),this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||i)(h(q),h(Fe),h(D),h(ht),h(W))};static \u0275cmp=M({type:i,selectors:[["app-admin-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"boutons-actions"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],["class","logout-button",3,"click",4,"ngIf"],[1,"btn-retour",3,"routerLink"],[1,"logout-button",3,"click"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,Ss,24,8,"div",0)(1,Cs,6,2,"div",0),e&2&&(u("ngIf",n.admin),m(),u("ngIf",!n.admin))},dependencies:[P,V,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:8px 15px;border-radius:5px;font-weight:700;text-decoration:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]{background-color:#e74c3c}.login-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var _n=class i{transform(t,e){return!e||e==="Tous"?t:t.filter(n=>n.statut&&n.statut.toLowerCase()===e.toLowerCase())}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=dt({name:"filtreStatutCandidature",type:i,pure:!0})};var Fr=()=>["/candidatures/create"],xs=i=>["/candidatures",i];function Ms(i,t){i&1&&(a(0,"button",12),l(1,"Ajouter"),o()),i&2&&u("routerLink",z(1,Fr))}function Ps(i,t){i&1&&(a(0,"button",12),l(1,"Ajouter"),o()),i&2&&u("routerLink",z(1,Fr))}function Ts(i,t){if(i&1&&(a(0,"div",13)(1,"h3"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Date :"),o(),l(6),Ee(7,"date"),o(),a(8,"p")(9,"strong"),l(10,"Date de disponibilite :"),o(),l(11),Ee(12,"date"),o(),a(13,"p")(14,"strong"),l(15,"Message :"),o(),l(16),o(),a(17,"p")(18,"strong"),l(19,"Statut :"),o(),l(20),o(),a(21,"p")(22,"strong"),l(23,"\xC9tudiant :"),o(),l(24),o(),a(25,"p")(26,"strong"),l(27,"Stage :"),o(),l(28),o(),a(29,"button",14),l(30,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(2),de("Candidature de ",e.etudiant.nom," ",e.etudiant.prenom,""),m(4),S(" ",xe(7,11,e.dateCandidature,"dd/MM/yyyy"),""),m(5),S(" ",xe(12,14,e.dateDisponibilite,"dd/MM/yyyy"),""),m(5),S(" ",e.message,""),m(4),S(" ",e.statut,""),m(4),de(" ",e.etudiant.nom," ",e.etudiant.prenom,""),m(4),S(" ",e.stage.titre,""),m(),u("routerLink",Oe(17,xs,e.id))}}function Is(i,t){i&1&&(a(0,"div",15),l(1,` \u274C Aucune candidature disponible.
`),o())}var vn=class i{constructor(t,e){this.authService=t;this.candidatureService=e}candidatures=[];typeFiltre="Tous";isLoaded=!1;ngOnInit(){let t=this.authService.getCurrentProfilId();this.authService.isEtudiant()&&t?this.candidatureService.getCandidaturesByEtudiantId(t).subscribe({next:e=>this.candidatures=this.transformDates(e),error:e=>console.error("Erreur API \xC9tudiant :",e)}):this.authService.isEntreprise()&&t?this.candidatureService.getCandidaturesByEntrepriseId(t).subscribe({next:e=>this.candidatures=this.transformDates(e),error:e=>console.error("Erreur API Entreprise :",e)}):this.candidatureService.getAllCandidatures().subscribe({next:e=>{this.candidatures=this.transformDates(e),this.isLoaded=!0},error:e=>{console.error("Erreur API :",e),this.isLoaded=!0}})}transformDates(t){return t.map(e=>vi(mt({},e),{dateCandidature:new Date(e.dateCandidature).toISOString(),dateDisponibilite:new Date(e.dateDisponibilite).toISOString()}))}voirDetail(t){console.log("Candidature s\xE9lectionn\xE9 :",t),alert(`Candidature : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(q),h(zt))};static \u0275cmp=M({type:i,selectors:[["app-candidature-list"]],decls:22,vars:11,consts:[[1,"page-header"],[1,"actions"],["for","type-select"],["id","type-select",3,"ngModelChange","ngModel"],["value","Tous"],["value","ACCEPTEE"],["value","EN_ATTENTE"],["value","REFUSEE"],["class","add-btn",3,"routerLink",4,"ngIf"],[1,"list"],["class","card",4,"ngFor","ngForOf"],["class","empty-message",4,"ngIf"],[1,"add-btn",3,"routerLink"],[1,"card"],[3,"routerLink"],[1,"empty-message"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des candidatures et alternances "),o(),a(3,"div",1)(4,"label",2),l(5,"Filtrer par type :"),o(),a(6,"select",3),ft("ngModelChange",function(s){return pt(n.typeFiltre,s)||(n.typeFiltre=s),s}),a(7,"option",4),l(8,"Tous"),o(),a(9,"option",5),l(10,"Accept\xE9e"),o(),a(11,"option",6),l(12,"En attente"),o(),a(13,"option",7),l(14,"Refus\xE9e"),o()(),g(15,Ms,2,2,"button",8)(16,Ps,2,2,"button",8),o()(),a(17,"div",9),g(18,Ts,31,19,"div",10),Ee(19,"filtreStatutCandidature"),g(20,Is,2,0,"div",11),Ee(21,"filtreStatutCandidature"),o()),e&2&&(m(6),ut("ngModel",n.typeFiltre),m(9),u("ngIf",n.authService.isAdmin()),m(),u("ngIf",n.authService.isEtudiant()),m(2),u("ngForOf",xe(19,5,n.candidatures,n.typeFiltre)),m(2),u("ngIf",xe(21,8,n.candidatures,n.typeFiltre).length===0))},dependencies:[P,ue,V,Rt,De,Ye,He,We,J,gt,_n,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.empty-message[_ngcontent-%COMP%]{margin-top:20px;font-style:italic;color:#888;text-align:center;font-size:1.2rem;height:80vh}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};var Dr=()=>["/candidatures"];function ws(i,t){i&1&&(a(0,"h3"),b(1,"i",5),l(2," Aper\xE7u du CV :"),o())}function As(i,t){if(i&1&&b(0,"iframe",6),i&2){let e=v(2);u("src",e.cvUrl,Ln)}}function Os(i,t){if(i&1){let e=H();a(0,"button",7),w("click",function(){j(e);let r=v(2);return B(r.downloadCv())}),l(1," \u{1F4C4} T\xE9l\xE9charger le CV "),o()}}function Fs(i,t){i&1&&(a(0,"h3"),b(1,"i",5),l(2," Lettre de motivation :"),o())}function Ds(i,t){if(i&1&&b(0,"iframe",6),i&2){let e=v(2);u("src",e.lettreUrl,Ln)}}function ks(i,t){if(i&1){let e=H();a(0,"button",7),w("click",function(){j(e);let r=v(2);return B(r.downloadLettre())}),l(1," \u{1F4C4} T\xE9l\xE9charger la lettre de motivation "),o()}}function Ns(i,t){if(i&1){let e=H();a(0,"button",11),w("click",function(){j(e);let r=v(3);return B(r.modifierCandidature())}),l(1,"Modifier \u270F\uFE0F"),o()}}function Rs(i,t){if(i&1){let e=H();a(0,"button",12),w("click",function(){j(e);let r=v(3);return B(r.supprimerCandidature())}),l(1,"Supprimer \u{1F5D1}\uFE0F"),o()}}function Ls(i,t){if(i&1&&(a(0,"div",8),g(1,Ns,2,0,"button",9)(2,Rs,2,0,"button",10),o()),i&2){let e=v(2);m(),u("ngIf",!e.authService.isEntreprise()),m(),u("ngIf",!e.authService.isEntreprise())}}function zs(i,t){if(i&1){let e=H();a(0,"button",11),w("click",function(){j(e);let r=v(3);return B(r.modifierCandidature())}),l(1,"Accepter/Reffuser \u270F\uFE0F"),o()}}function Us(i,t){if(i&1&&(a(0,"div",8),g(1,zs,2,0,"button",9),o()),i&2){let e=v(2);m(),u("ngIf",e.authService.isEntreprise())}}function qs(i,t){if(i&1&&(a(0,"div")(1,"h2"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Date :"),o(),l(6),Ee(7,"date"),o(),a(8,"p")(9,"strong"),l(10,"Date de disponibilite :"),o(),l(11),Ee(12,"date"),o(),a(13,"p")(14,"strong"),l(15,"Message :"),o(),l(16),o(),a(17,"p")(18,"strong"),l(19,"Statut :"),o(),l(20),o(),a(21,"p")(22,"strong"),l(23,"\xC9tudiant :"),o(),l(24),o(),a(25,"p")(26,"strong"),l(27,"Stage :"),o(),l(28),o(),g(29,ws,3,0,"h3",0)(30,As,1,1,"iframe",1)(31,Os,2,0,"button",2)(32,Fs,3,0,"h3",0)(33,Ds,1,1,"iframe",1)(34,ks,2,0,"button",2)(35,Ls,3,2,"div",3)(36,Us,2,1,"div",3),b(37,"br"),a(38,"button",4),l(39,"\u2190 Retour \xE0 la liste"),o()()),i&2){let e=v();m(2),de("Candidature de ",e.candidature.etudiant.nom," ",e.candidature.etudiant.prenom,""),m(4),S(" ",xe(7,18,e.candidature.dateCandidature,"dd/MM/yyyy"),""),m(5),S(" ",xe(12,21,e.candidature.dateDisponibilite,"dd/MM/yyyy"),""),m(5),S(" ",e.candidature.message,""),m(4),S(" ",e.candidature.statut,""),m(4),de(" ",e.candidature.etudiant.nom," ",e.candidature.etudiant.prenom,""),m(4),S(" ",e.candidature.stage.titre,""),m(),u("ngIf",e.candidature.cvFilename),m(),u("ngIf",e.cvUrl&&e.candidature.cvFilename),m(),u("ngIf",e.candidature.cvFilename),m(),u("ngIf",e.candidature.lettreMotivationFilename),m(),u("ngIf",e.lettreUrl&&e.candidature.lettreMotivationFilename),m(),u("ngIf",e.candidature.lettreMotivationFilename),m(),u("ngIf",!e.authService.isEntreprise()),m(),u("ngIf",e.authService.isEntreprise()),m(2),u("routerLink",z(24,Dr))}}function Vs(i,t){i&1&&(a(0,"div")(1,"div",13)(2,"p"),l(3,"\u{1F6AB} Aucun candidature trouv\xE9 pour cet identifiant."),o(),a(4,"button",4),l(5,"\u2190 Retour \xE0 la liste"),o()()()),i&2&&(m(4),u("routerLink",z(1,Dr)))}var yn=class i{constructor(t,e,n,r,s,c){this.sanitizer=t;this.authService=e;this.route=n;this.router=r;this.candidatureService=s;this.alertService=c}candidature;candidatureId;cvUrl=null;lettreUrl=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.candidatureId=+t,this.cvUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`http://localhost:8080/api/candidatures/${this.candidatureId}/download-cv`),this.lettreUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`http://localhost:8080/api/candidatures/${this.candidatureId}/download-lettre`),this.candidatureService.getCandidatureById(+t).subscribe({next:e=>{e&&(e.dateCandidature=new Date(e.dateCandidature).toISOString(),e.dateDisponibilite=new Date(e.dateDisponibilite).toISOString()),this.candidature=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du candidature :",e),this.candidature=void 0}}))}modifierCandidature(){console.log("Tentative de modification",this.candidatureId),this.candidatureId?this.router.navigate(["/candidatures/edit",this.candidatureId]):console.error("Pas d'ID trouv\xE9 !")}supprimerCandidature(){this.candidatureId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer cette candidature ?").then(t=>{t.isConfirmed&&this.candidatureId&&this.candidatureService.deleteCandidature(this.candidatureId).subscribe(()=>{this.alertService.success("La candidature a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/candidatures"])})})}):console.error("Pas d'ID trouv\xE9 !")}downloadCv(){this.candidature&&this.candidatureService.downloadCv(this.candidature.id).subscribe(t=>{let e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,this.candidature&&(n.download=this.candidature.cvFilename||"cv.pdf"),n.click()},t=>{this.alertService.error("\u274C CV introuvable ou erreur lors du t\xE9l\xE9chargement.")})}downloadLettre(){this.candidature&&this.candidatureService.downloadLettre(this.candidature.id).subscribe(t=>{let e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,this.candidature&&(n.download=this.candidature.cvFilename||"lettre.pdf"),n.click()},t=>{this.alertService.error("\u274C Lettre de motivation introuvable ou erreur lors du t\xE9l\xE9chargement.")})}static \u0275fac=function(e){return new(e||i)(h(Ii),h(q),h(Fe),h(D),h(zt),h(W))};static \u0275cmp=M({type:i,selectors:[["app-candidature-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],["width","100%","height","400px",3,"src",4,"ngIf"],["class","download-btn",3,"click",4,"ngIf"],["class","boutons-actions",4,"ngIf"],[1,"btn-retour",3,"routerLink"],[1,"fas","fa-file-pdf"],["width","100%","height","400px",3,"src"],[1,"download-btn",3,"click"],[1,"boutons-actions"],["type","button","class","modifier",3,"click",4,"ngIf"],["type","button","class","supprimer",3,"click",4,"ngIf"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,qs,40,25,"div",0)(1,Vs,6,2,"div",0),e&2&&(u("ngIf",n.candidature),m(),u("ngIf",!n.candidature))},dependencies:[P,V,Rt,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}.download-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;font-weight:700;border:none;border-radius:5px;padding:8px 15px;margin-bottom:15px;cursor:pointer;transition:background-color .3s ease}.download-btn[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})};var js=()=>["/entreprises/create"],Bs=i=>["/entreprises",i];function Gs(i,t){if(i&1&&(a(0,"div",5)(1,"h3"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Site web :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Secteur d'activite :"),o(),l(22),o(),a(23,"button",6),l(24,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(2),Ae(e.nom),m(4),S(" ",e.user.email,""),m(4),S(" ",e.telephone,""),m(4),S(" ",e.adresse,""),m(4),S(" ",e.siteWeb,""),m(4),S(" ",e.secteurActivite,""),m(),u("routerLink",Oe(8,Bs,e.id))}}var bn=class i{constructor(t){this.entrepriseService=t}entreprises=[];ngOnInit(){this.entrepriseService.getAllEntreprises().subscribe({next:t=>this.entreprises=t,error:t=>console.error("Erreur API :",t)})}voirDetail(t){console.log("Entreprise s\xE9lectionn\xE9 :",t),alert(`Entreprise : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(Xe))};static \u0275cmp=M({type:i,selectors:[["app-entreprise-list"]],decls:8,vars:3,consts:[[1,"page-header"],[1,"actions"],[1,"add-btn",3,"routerLink"],[1,"list"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"routerLink"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des entrprises "),o(),a(3,"div",1)(4,"button",2),l(5,"Ajouter"),o()()(),a(6,"div",3),g(7,Gs,25,10,"div",4),o()),e&2&&(m(4),u("routerLink",z(2,js)),m(3),u("ngForOf",n.entreprises))},dependencies:[P,ue,De,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};function Ks(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le nom est requis."),o())}function $s(i,t){if(i&1&&(a(0,"div",11),g(1,Ks,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("nom"))==null||e.errors==null?null:e.errors.required)}}function Qs(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email est requis."),o())}function Ws(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email n'est pas valide."),o())}function Ys(i,t){if(i&1&&(a(0,"div",11),g(1,Qs,2,0,"span",12)(2,Ws,2,0,"span",12),o()),i&2){let e,n,r=v();m(),u("ngIf",(e=r.entrepriseForm.get("email"))==null||e.errors==null?null:e.errors.required),m(),u("ngIf",(n=r.entrepriseForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function Hs(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le numero de telephone est requis."),o())}function Xs(i,t){if(i&1&&(a(0,"div",11),g(1,Hs,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("telephone"))==null||e.errors==null?null:e.errors.required)}}function Js(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'adresse est requis."),o())}function Zs(i,t){if(i&1&&(a(0,"div",11),g(1,Js,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("adresse"))==null||e.errors==null?null:e.errors.required)}}function ea(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le site web est requis."),o())}function ta(i,t){if(i&1&&(a(0,"div",11),g(1,ea,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("siteWeb"))==null||e.errors==null?null:e.errors.required)}}function na(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le secteur d'activite est requis."),o())}function ia(i,t){if(i&1&&(a(0,"div",11),g(1,na,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("secteurActivite"))==null||e.errors==null?null:e.errors.required)}}function ra(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le mot de passe est requis."),o())}function oa(i,t){if(i&1&&(a(0,"div",11),g(1,ra,2,0,"span",12),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.entrepriseForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function sa(i,t){i&1&&(a(0,"div",11),l(1," \u274C Les mots de passe ne correspondent pas. "),o())}var Sn=class i{constructor(t,e,n,r,s){this.fb=t;this.entrepriseService=e;this.userService=n;this.router=r;this.alertService=s;this.entrepriseForm=this.fb.group({nom:["",I.required],email:["",[I.required,I.email]],telephone:["",I.required],adresse:["",I.required],siteWeb:["",I.required],secteurActivite:["",I.required],password:["",I.required],confirmPassword:["",I.required]},{validators:this.passwordsMatchValidator})}entrepriseForm;message="";messageType="";passwordsMatchValidator(t){let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}onSubmit(){if(this.entrepriseForm.valid){if(this.entrepriseForm.hasError("passwordMismatch")){this.messageType="error",this.message="\u274C Les mots de passe ne correspondent pas.",this.alertService.error(this.message);return}let t={email:this.entrepriseForm.value.email,password:this.entrepriseForm.value.password,role:"ENTREPRISE"};this.userService.createUser(t).subscribe({next:e=>{let n={nom:this.entrepriseForm.value.nom,telephone:this.entrepriseForm.value.telephone,adresse:this.entrepriseForm.value.adresse,siteWeb:this.entrepriseForm.value.siteWeb,secteurActivite:this.entrepriseForm.value.secteurActivite,user:e};this.entrepriseService.createEntreprise(n).subscribe({next:()=>{this.messageType="success",this.message="\u2705 Entreprise cr\xE9\xE9 avec succ\xE8s !",this.alertService.success(this.message).then(()=>{this.router.navigate(["/login"])})},error:r=>{console.error("Erreur lors de la cr\xE9ation de l'entreprise",r),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'entreprise.",this.alertService.error(this.message)}})},error:e=>{console.error("Erreur lors de la cr\xE9ation du user",e),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'utilisateur.",this.alertService.error(this.message)}})}else this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs requis.",this.alertService.error(this.message)}static \u0275fac=function(e){return new(e||i)(h(ve),h(Xe),h(ke),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-entreprise-form"]],decls:37,vars:10,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","nom"],["class","error",4,"ngIf"],["type","email","autocomplete","email","formControlName","email"],["type","text","formControlName","telephone"],["type","text","formControlName","adresse"],["type","url","formControlName","siteWeb"],["type","text","formControlName","secteurActivite"],["type","password","autocomplete","current-password","formControlName","password"],["type","password","autocomplete","current-password","formControlName","confirmPassword"],["type","submit",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"h2"),l(1,"Cr\xE9er une entreprise"),o(),a(2,"form",0),w("ngSubmit",function(){return n.onSubmit()}),a(3,"label"),l(4,"Nom :"),o(),b(5,"input",1),g(6,$s,2,1,"div",2),a(7,"label"),l(8,"Email :"),o(),b(9,"input",3),g(10,Ys,3,2,"div",2),a(11,"label"),l(12,"T\xE9l\xE9phone :"),o(),b(13,"input",4),g(14,Xs,2,1,"div",2),a(15,"label"),l(16,"Adresse :"),o(),b(17,"input",5),g(18,Zs,2,1,"div",2),a(19,"label"),l(20,"Site Web :"),o(),b(21,"input",6),g(22,ta,2,1,"div",2),a(23,"label"),l(24,"Secteur d'activit\xE9 :"),o(),b(25,"input",7),g(26,ia,2,1,"div",2),a(27,"label"),l(28,"Mot de passe :"),o(),b(29,"input",8),g(30,oa,2,1,"div",2),a(31,"label"),l(32,"Confirmation du mot de passe :"),o(),b(33,"input",9),g(34,sa,2,0,"div",2),a(35,"button",10),l(36,"Cr\xE9er"),o()()),e&2){let r,s,c,d,p,f,_;m(2),u("formGroup",n.entrepriseForm),m(4),u("ngIf",((r=n.entrepriseForm.get("nom"))==null?null:r.invalid)&&((r=n.entrepriseForm.get("nom"))==null?null:r.touched)),m(4),u("ngIf",((s=n.entrepriseForm.get("email"))==null?null:s.invalid)&&((s=n.entrepriseForm.get("email"))==null?null:s.touched)),m(4),u("ngIf",((c=n.entrepriseForm.get("telephone"))==null?null:c.invalid)&&((c=n.entrepriseForm.get("telephone"))==null?null:c.touched)),m(4),u("ngIf",((d=n.entrepriseForm.get("adresse"))==null?null:d.invalid)&&((d=n.entrepriseForm.get("adresse"))==null?null:d.touched)),m(4),u("ngIf",((p=n.entrepriseForm.get("siteWeb"))==null?null:p.invalid)&&((p=n.entrepriseForm.get("siteWeb"))==null?null:p.touched)),m(4),u("ngIf",((f=n.entrepriseForm.get("secteurActivite"))==null?null:f.invalid)&&((f=n.entrepriseForm.get("secteurActivite"))==null?null:f.touched)),m(4),u("ngIf",((_=n.entrepriseForm.get("password"))==null?null:_.invalid)&&((_=n.entrepriseForm.get("password"))==null?null:_.touched)),m(4),u("ngIf",n.entrepriseForm.hasError("passwordMismatch")&&n.entrepriseForm.touched),m(),u("disabled",n.entrepriseForm.invalid)}},dependencies:[P,V,ye,ge,pe,J,fe,he,_e],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#1e3a8a}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:.8rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#94a3b8;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.success[_ngcontent-%COMP%]{color:green;margin-bottom:10px}.error[_ngcontent-%COMP%]{color:red;margin-bottom:10px}"]})};var kr=()=>["/entreprises"];function aa(i,t){if(i&1){let e=H();a(0,"button",6),w("click",function(){j(e);let r=v(2);return B(r.logout())}),l(1,"D\xE9connexion"),o()}}function la(i,t){i&1&&(a(0,"button",7),l(1,"\u2190 Retour \xE0 la liste"),o()),i&2&&u("routerLink",z(1,kr))}function ca(i,t){if(i&1){let e=H();a(0,"div")(1,"h2"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Site web :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Secteur d'activite :"),o(),l(22),o(),a(23,"div",1)(24,"button",2),w("click",function(){j(e);let r=v();return B(r.modifierEntreprise())}),l(25,"Modifier \u270F\uFE0F"),o(),a(26,"button",3),w("click",function(){j(e);let r=v();return B(r.supprimerEntreprise())}),l(27,"Supprimer \u{1F5D1}\uFE0F"),o(),g(28,aa,2,0,"button",4),o(),b(29,"br"),g(30,la,2,2,"button",5),o()}if(i&2){let e=v();m(2),Ae(e.entreprise.nom),m(4),S(" ",e.entreprise.user.email,""),m(4),S(" ",e.entreprise.telephone,""),m(4),S(" ",e.entreprise.adresse,""),m(4),S(" ",e.entreprise.siteWeb,""),m(4),S(" ",e.entreprise.secteurActivite,""),m(6),u("ngIf",e.authService.isLoggedIn()),m(2),u("ngIf",e.authService.isAdmin())}}function ma(i,t){i&1&&(a(0,"button",7),l(1,"\u2190 Retour \xE0 la liste"),o()),i&2&&u("routerLink",z(1,kr))}function da(i,t){if(i&1&&(a(0,"div")(1,"div",8)(2,"p"),l(3,"\u{1F6AB} Aucun entreprise trouv\xE9 pour cet identifiant."),o(),g(4,ma,2,2,"button",5),o()()),i&2){let e=v();m(4),u("ngIf",e.authService.isAdmin())}}var Cn=class i{constructor(t,e,n,r,s){this.authService=t;this.route=e;this.router=n;this.entrepriseService=r;this.alertService=s}entreprise;entrepriseId;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.entrepriseId=+t,this.entrepriseService.getEntrepriseById(+t).subscribe({next:e=>{this.entreprise=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du entreprise :",e),this.entreprise=void 0}}))}modifierEntreprise(){this.entrepriseId&&this.router.navigate(["/entreprises/edit",this.entrepriseId])}supprimerEntreprise(){this.entrepriseId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer cet entreprise ?").then(t=>{t.isConfirmed&&this.entrepriseId&&this.entrepriseService.deleteEntreprise(this.entrepriseId).subscribe(()=>{this.alertService.success("L'entreprise a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/entreprises"])})})}):console.error("Pas d'ID trouv\xE9 !")}logout(){this.authService.logout(),this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||i)(h(q),h(Fe),h(D),h(Xe),h(W))};static \u0275cmp=M({type:i,selectors:[["app-entreprise-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"boutons-actions"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],["class","logout-button",3,"click",4,"ngIf"],["class","btn-retour",3,"routerLink",4,"ngIf"],[1,"logout-button",3,"click"],[1,"btn-retour",3,"routerLink"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,ca,31,8,"div",0)(1,da,5,1,"div",0),e&2&&(u("ngIf",n.entreprise),m(),u("ngIf",!n.entreprise))},dependencies:[P,V,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:8px 15px;border-radius:5px;font-weight:700;text-decoration:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]{background-color:#e74c3c}.login-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var ua=()=>["/etudiants/create"],pa=i=>["/etudiants",i];function fa(i,t){if(i&1&&(a(0,"div",5)(1,"h3"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Niveau d'\xE9tude :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Sp\xE9cialit\xE9 :"),o(),l(22),o(),a(23,"button",6),l(24,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(2),de("",e.nom," ",e.prenom,""),m(4),S(" ",e.user.email,""),m(4),S(" ",e.telephone,""),m(4),S(" ",e.adresse,""),m(4),S(" ",e.niveauEtude,""),m(4),S(" ",e.specialite,""),m(),u("routerLink",Oe(9,pa,e.id))}}var En=class i{constructor(t){this.etudiantService=t}etudiants=[];ngOnInit(){this.etudiantService.getAllEtudiants().subscribe({next:t=>this.etudiants=t,error:t=>console.error("Erreur API :",t)})}voirDetail(t){console.log("Etudiant s\xE9lectionn\xE9 :",t),alert(`Etudiant : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(vt))};static \u0275cmp=M({type:i,selectors:[["app-etudiant-list"]],decls:8,vars:3,consts:[[1,"page-header"],[1,"actions"],[1,"add-btn",3,"routerLink"],[1,"list"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"routerLink"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des etudiants et alternances "),o(),a(3,"div",1)(4,"button",2),l(5,"Ajouter"),o()()(),a(6,"div",3),g(7,fa,25,11,"div",4),o()),e&2&&(m(4),u("routerLink",z(2,ua)),m(3),u("ngForOf",n.etudiants))},dependencies:[P,ue,De,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};function ga(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le nom est requis."),o())}function ha(i,t){if(i&1&&(a(0,"div",12),g(1,ga,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("nom"))==null||e.errors==null?null:e.errors.required)}}function _a(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le prenom est requis."),o())}function va(i,t){if(i&1&&(a(0,"div",12),g(1,_a,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("prenom"))==null||e.errors==null?null:e.errors.required)}}function ya(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email est requis."),o())}function ba(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'email n'est pas valide."),o())}function Sa(i,t){if(i&1&&(a(0,"div",12),g(1,ya,2,0,"span",13)(2,ba,2,0,"span",13),o()),i&2){let e,n,r=v();m(),u("ngIf",(e=r.etudiantForm.get("email"))==null||e.errors==null?null:e.errors.required),m(),u("ngIf",(n=r.etudiantForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function Ca(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le numero de telephone est requis."),o())}function Ea(i,t){if(i&1&&(a(0,"div",12),g(1,Ca,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("telephone"))==null||e.errors==null?null:e.errors.required)}}function xa(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'adresse est requis."),o())}function Ma(i,t){if(i&1&&(a(0,"div",12),g(1,xa,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("adresse"))==null||e.errors==null?null:e.errors.required)}}function Pa(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le niveau d'etude est requis."),o())}function Ta(i,t){if(i&1&&(a(0,"div",12),g(1,Pa,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("niveauEtude"))==null||e.errors==null?null:e.errors.required)}}function Ia(i,t){i&1&&(a(0,"span"),l(1,"\u274C La specialite est requise."),o())}function wa(i,t){if(i&1&&(a(0,"div",12),g(1,Ia,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("specialite"))==null||e.errors==null?null:e.errors.required)}}function Aa(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le mot de passe est requis."),o())}function Oa(i,t){if(i&1&&(a(0,"div",12),g(1,Aa,2,0,"span",13),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.etudiantForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function Fa(i,t){i&1&&(a(0,"div",12),l(1," \u274C Les mots de passe ne correspondent pas. "),o())}var xn=class i{constructor(t,e,n,r,s){this.fb=t;this.etudiantService=e;this.userService=n;this.router=r;this.alertService=s;this.etudiantForm=this.fb.group({nom:["",I.required],prenom:["",I.required],email:["",[I.required,I.email]],telephone:["",I.required],adresse:["",I.required],niveauEtude:["",I.required],specialite:["",I.required],password:["",I.required],confirmPassword:["",I.required]},{validators:this.passwordsMatchValidator})}etudiantForm;message="";messageType="";passwordsMatchValidator(t){let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}onSubmit(){if(this.etudiantForm.valid){if(this.etudiantForm.hasError("passwordMismatch")){this.messageType="error",this.message="\u274C Les mots de passe ne correspondent pas.",this.alertService.error(this.message);return}let t={email:this.etudiantForm.value.email,password:this.etudiantForm.value.password,role:"ETUDIANT"};this.userService.createUser(t).subscribe({next:e=>{let n={nom:this.etudiantForm.value.nom,prenom:this.etudiantForm.value.prenom,telephone:this.etudiantForm.value.telephone,adresse:this.etudiantForm.value.adresse,niveauEtude:this.etudiantForm.value.niveauEtude,specialite:this.etudiantForm.value.specialite,user:e};this.etudiantService.createEtudiant(n).subscribe({next:()=>{this.messageType="success",this.message="\u2705 Etudiant cr\xE9\xE9 avec succ\xE8s !",this.alertService.success(this.message).then(()=>{this.router.navigate(["/login"])})},error:r=>{console.error("Erreur lors de la cr\xE9ation de l'etudiant",r),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'etudiant.",this.alertService.error(this.message)}})},error:e=>{console.error("Erreur lors de la cr\xE9ation du user",e),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'utilisateur.",this.alertService.error(this.message)}})}else this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs requis.",this.alertService.error(this.message)}static \u0275fac=function(e){return new(e||i)(h(ve),h(vt),h(ke),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-etudiant-form"]],decls:41,vars:11,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","nom"],["class","error",4,"ngIf"],["type","text","formControlName","prenom"],["type","email","autocomplete","email","formControlName","email"],["type","text","formControlName","telephone"],["type","text","formControlName","adresse"],["type","text","formControlName","niveauEtude"],["type","text","formControlName","specialite"],["type","password","autocomplete","current-password","formControlName","password"],["type","password","autocomplete","current-password","formControlName","confirmPassword"],["type","submit",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"h2"),l(1,"Cr\xE9er un \xE9tudiant"),o(),a(2,"form",0),w("ngSubmit",function(){return n.onSubmit()}),a(3,"label"),l(4,"Nom :"),o(),b(5,"input",1),g(6,ha,2,1,"div",2),a(7,"label"),l(8,"Prenom :"),o(),b(9,"input",3),g(10,va,2,1,"div",2),a(11,"label"),l(12,"Email :"),o(),b(13,"input",4),g(14,Sa,3,2,"div",2),a(15,"label"),l(16,"T\xE9l\xE9phone :"),o(),b(17,"input",5),g(18,Ea,2,1,"div",2),a(19,"label"),l(20,"Adresse :"),o(),b(21,"input",6),g(22,Ma,2,1,"div",2),a(23,"label"),l(24,"Niveau d'\xE9tude :"),o(),b(25,"input",7),g(26,Ta,2,1,"div",2),a(27,"label"),l(28,"Sp\xE9cialit\xE9 :"),o(),b(29,"input",8),g(30,wa,2,1,"div",2),a(31,"label"),l(32,"Mot de Passe :"),o(),b(33,"input",9),g(34,Oa,2,1,"div",2),a(35,"label"),l(36,"Confirmation du mot de passe :"),o(),b(37,"input",10),g(38,Fa,2,0,"div",2),a(39,"button",11),l(40,"Cr\xE9er"),o()()),e&2){let r,s,c,d,p,f,_,y;m(2),u("formGroup",n.etudiantForm),m(4),u("ngIf",((r=n.etudiantForm.get("nom"))==null?null:r.invalid)&&((r=n.etudiantForm.get("nom"))==null?null:r.touched)),m(4),u("ngIf",((s=n.etudiantForm.get("prenom"))==null?null:s.invalid)&&((s=n.etudiantForm.get("prenom"))==null?null:s.touched)),m(4),u("ngIf",((c=n.etudiantForm.get("email"))==null?null:c.invalid)&&((c=n.etudiantForm.get("email"))==null?null:c.touched)),m(4),u("ngIf",((d=n.etudiantForm.get("telephone"))==null?null:d.invalid)&&((d=n.etudiantForm.get("telephone"))==null?null:d.touched)),m(4),u("ngIf",((p=n.etudiantForm.get("adresse"))==null?null:p.invalid)&&((p=n.etudiantForm.get("adresse"))==null?null:p.touched)),m(4),u("ngIf",((f=n.etudiantForm.get("niveauEtude"))==null?null:f.invalid)&&((f=n.etudiantForm.get("niveauEtude"))==null?null:f.touched)),m(4),u("ngIf",((_=n.etudiantForm.get("specialite"))==null?null:_.invalid)&&((_=n.etudiantForm.get("specialite"))==null?null:_.touched)),m(4),u("ngIf",((y=n.etudiantForm.get("password"))==null?null:y.invalid)&&((y=n.etudiantForm.get("password"))==null?null:y.touched)),m(4),u("ngIf",n.etudiantForm.hasError("passwordMismatch")&&n.etudiantForm.touched),m(),u("disabled",n.etudiantForm.invalid)}},dependencies:[P,V,ye,ge,pe,J,fe,he,_e],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#1e3a8a}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:.8rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#94a3b8;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.success[_ngcontent-%COMP%]{color:green;margin-bottom:10px}.error[_ngcontent-%COMP%]{color:red;margin-bottom:10px}"]})};var Rr=()=>["/etudiants"];function Da(i,t){if(i&1){let e=H();a(0,"button",6),w("click",function(){j(e);let r=v(2);return B(r.logout())}),l(1,"D\xE9connexion"),o()}}function ka(i,t){i&1&&(a(0,"button",7),l(1,"\u2190 Retour \xE0 la liste"),o()),i&2&&u("routerLink",z(1,Rr))}function Na(i,t){if(i&1){let e=H();a(0,"div")(1,"h2"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Email :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"T\xE9l\xE9phone :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Adresse :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Niveau d'\xE9tude :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Sp\xE9cialit\xE9 :"),o(),l(22),o(),a(23,"div",1)(24,"button",2),w("click",function(){j(e);let r=v();return B(r.modifierEtudiant())}),l(25,"Modifier \u270F\uFE0F"),o(),a(26,"button",3),w("click",function(){j(e);let r=v();return B(r.supprimerEtudiant())}),l(27,"Supprimer \u{1F5D1}\uFE0F"),o(),g(28,Da,2,0,"button",4),o(),b(29,"br"),g(30,ka,2,2,"button",5),o()}if(i&2){let e=v();m(2),de("",e.etudiant.nom," ",e.etudiant.prenom,""),m(4),S(" ",e.etudiant.user.email,""),m(4),S(" ",e.etudiant.telephone,""),m(4),S(" ",e.etudiant.adresse,""),m(4),S(" ",e.etudiant.niveauEtude,""),m(4),S(" ",e.etudiant.specialite,""),m(6),u("ngIf",e.authService.isLoggedIn()),m(2),u("ngIf",e.authService.isAdmin())}}function Ra(i,t){i&1&&(a(0,"button",7),l(1,"\u2190 Retour \xE0 la liste"),o()),i&2&&u("routerLink",z(1,Rr))}function La(i,t){if(i&1&&(a(0,"div")(1,"div",8)(2,"p"),l(3,"\u{1F6AB} Aucun etudiant trouv\xE9 pour cet identifiant."),o(),g(4,Ra,2,2,"button",5),o()()),i&2){let e=v();m(4),u("ngIf",e.authService.isAdmin())}}var Mn=class i{constructor(t,e,n,r,s){this.authService=t;this.route=e;this.router=n;this.etudiantService=r;this.alertService=s}etudiant;etudiantId;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.etudiantId=+t,this.etudiantService.getEtudiantById(+t).subscribe({next:e=>{this.etudiant=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du etudiant :",e),this.etudiant=void 0}}))}modifierEtudiant(){this.etudiantId&&this.router.navigate(["/etudiants/edit",this.etudiantId])}supprimerEtudiant(){this.etudiantId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer cet etudiant ?").then(t=>{t.isConfirmed&&this.etudiantId&&this.etudiantService.deleteEtudiant(this.etudiantId).subscribe(()=>{this.alertService.success("L'etudiant a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/etudiants"])})})}):console.error("Pas d'ID trouv\xE9 !")}logout(){this.authService.logout(),this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||i)(h(q),h(Fe),h(D),h(vt),h(W))};static \u0275cmp=M({type:i,selectors:[["app-etudiant-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"boutons-actions"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],["class","logout-button",3,"click",4,"ngIf"],["class","btn-retour",3,"routerLink",4,"ngIf"],[1,"logout-button",3,"click"],[1,"btn-retour",3,"routerLink"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,Na,31,9,"div",0)(1,La,5,1,"div",0),e&2&&(u("ngIf",n.etudiant),m(),u("ngIf",!n.etudiant))},dependencies:[P,V,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:8px 15px;border-radius:5px;font-weight:700;text-decoration:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]{background-color:#e74c3c}.login-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var Pn=class i{transform(t,e){return!e||e==="Tous"?t:t.filter(n=>n.type&&n.type.toLowerCase()===e.toLowerCase())}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=dt({name:"filtreType",type:i,pure:!0})};var zr=()=>["/stages/create"],za=i=>["/stages",i];function Ua(i,t){i&1&&(a(0,"button",11),l(1,"Ajouter"),o()),i&2&&u("routerLink",z(1,zr))}function qa(i,t){i&1&&(a(0,"button",11),l(1,"Ajouter"),o()),i&2&&u("routerLink",z(1,zr))}function Va(i,t){if(i&1&&(a(0,"div",12)(1,"h3"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Lieu :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"Dur\xE9e :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Entreprise :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Type :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Description :"),o(),l(22),o(),a(23,"button",13),l(24,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(2),Ae(e.titre),m(4),S(" ",e.lieu,""),m(4),S(" ",e.duree,""),m(4),S(" ",e.entreprise.nom,""),m(4),S(" ",e.type,""),m(4),S(" ",e.description,""),m(),u("routerLink",Oe(8,za,e.id))}}function ja(i,t){i&1&&(a(0,"div",14),l(1,` \u274C Aucune offre de stage ou d\u2019alternance trouv\xE9e.
`),o())}var Tn=class i{constructor(t,e){this.authService=t;this.stageService=e}stages=[];typeFiltre="Tous";isLoaded=!1;ngOnInit(){let t=this.authService.getCurrentProfilId();this.authService.isEntreprise()&&t?this.stageService.getStagesByEntrepriseId(t).subscribe({next:e=>this.stages=e,error:e=>console.error("Erreur API Entreprise :",e)}):this.stageService.getAllStages().subscribe({next:e=>{this.stages=e,this.isLoaded=!0},error:e=>{console.error("Erreur API :",e),this.isLoaded=!0}})}voirDetail(t){console.log("Stage s\xE9lectionn\xE9 :",t),alert(`Stage : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(q),h(_t))};static \u0275cmp=M({type:i,selectors:[["app-stage-list"]],decls:20,vars:11,consts:[[1,"page-header"],[1,"actions"],["for","type-select"],["id","type-select",3,"ngModelChange","ngModel"],["value","Tous"],["value","STAGE"],["value","ALTERNANCE"],["class","add-btn",3,"routerLink",4,"ngIf"],[1,"list"],["class","card",4,"ngFor","ngForOf"],["class","empty-message",4,"ngIf"],[1,"add-btn",3,"routerLink"],[1,"card"],[3,"routerLink"],[1,"empty-message"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des stages et alternances "),o(),a(3,"div",1)(4,"label",2),l(5,"Filtrer par type :"),o(),a(6,"select",3),ft("ngModelChange",function(s){return pt(n.typeFiltre,s)||(n.typeFiltre=s),s}),a(7,"option",4),l(8,"Tous"),o(),a(9,"option",5),l(10,"Stage"),o(),a(11,"option",6),l(12,"Alternance"),o()(),g(13,Ua,2,2,"button",7)(14,qa,2,2,"button",7),o()(),a(15,"div",8),g(16,Va,25,10,"div",9),Ee(17,"filtreType"),g(18,ja,2,0,"div",10),Ee(19,"filtreType"),o()),e&2&&(m(6),ut("ngModel",n.typeFiltre),m(7),u("ngIf",n.authService.isAdmin()),m(),u("ngIf",n.authService.isEntreprise()),m(2),u("ngForOf",xe(17,5,n.stages,n.typeFiltre)),m(2),u("ngIf",xe(19,8,n.stages,n.typeFiltre).length===0))},dependencies:[P,ue,V,De,Ye,He,We,J,gt,Pn,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.empty-message[_ngcontent-%COMP%]{margin-top:20px;font-style:italic;color:#888;text-align:center;font-size:1.2rem;height:80vh}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};function Ba(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le tire est requis."),o())}function Ga(i,t){if(i&1&&(a(0,"div",11),g(1,Ba,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("titre"))==null||e.errors==null?null:e.errors.required)}}function Ka(i,t){i&1&&(a(0,"span"),l(1,"\u274C La description est requis."),o())}function $a(i,t){if(i&1&&(a(0,"div",11),g(1,Ka,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("description"))==null||e.errors==null?null:e.errors.required)}}function Qa(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le lieu est requis."),o())}function Wa(i,t){if(i&1&&(a(0,"div",11),g(1,Qa,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("lieu"))==null||e.errors==null?null:e.errors.required)}}function Ya(i,t){i&1&&(a(0,"span"),l(1,"\u274C La durr\xE9e est requis."),o())}function Ha(i,t){if(i&1&&(a(0,"div",11),g(1,Ya,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("duree"))==null||e.errors==null?null:e.errors.required)}}function Xa(i,t){if(i&1&&(a(0,"option",12),l(1),o()),i&2){let e=t.$implicit;u("value",e),m(),Ae(e)}}function Ja(i,t){i&1&&(a(0,"span"),l(1,"\u274C Le type est requis."),o())}function Za(i,t){if(i&1&&(a(0,"div",11),g(1,Ja,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("type"))==null||e.errors==null?null:e.errors.required)}}function el(i,t){i&1&&(a(0,"label"),l(1,"Entreprise :"),o())}function tl(i,t){if(i&1&&(a(0,"option",12),l(1),o()),i&2){let e=t.$implicit;u("value",e.id),m(),S(" ",e.nom," ")}}function nl(i,t){if(i&1&&(a(0,"select",13),g(1,tl,2,2,"option",7),o()),i&2){let e=v();m(),u("ngForOf",e.entreprises)}}function il(i,t){i&1&&(a(0,"span"),l(1,"\u274C L'entreprise est requise."),o())}function rl(i,t){if(i&1&&(a(0,"div",11),g(1,il,2,0,"span",8),o()),i&2){let e,n=v();m(),u("ngIf",(e=n.stageForm.get("entrepriseId"))==null||e.errors==null?null:e.errors.required)}}var In=class i{constructor(t,e,n,r,s,c){this.authService=t;this.fb=e;this.stageService=n;this.entrepriseService=r;this.router=s;this.alertService=c;this.stageForm=this.fb.group({titre:["",I.required],description:["",I.required],lieu:["",I.required],duree:["",I.required],entrepriseId:["",I.required],type:["",I.required]})}stageForm;entreprises=[];typeStageOptions=["STAGE","ALTERNANCE"];message="";messageType="";ngOnInit(){this.authService.getCurrentProfilId()&&this.authService.isEntreprise()&&this.stageForm.patchValue({entrepriseId:this.authService.getCurrentProfilId()}),this.entrepriseService.getAllEntreprises().subscribe({next:t=>this.entreprises=t,error:t=>console.error("Erreur lors du chargement des entreprises",t)})}onSubmit(){if(this.stageForm.valid){let t={titre:this.stageForm.value.titre,description:this.stageForm.value.description,lieu:this.stageForm.value.lieu,duree:this.stageForm.value.duree,type:this.stageForm.value.type,entreprise:{id:this.stageForm.value.entrepriseId}};this.stageService.createStage(t).subscribe({next:()=>{this.messageType="success",this.message="\u2705 Stage/Alternace cr\xE9\xE9 avec succ\xE8s !",this.alertService.success(this.message).then(()=>{this.router.navigate(["/stages"])})},error:e=>{console.error("Erreur lors de la cr\xE9ation du stage/alternance",e),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation du stage/alternance.",this.alertService.error(this.message)}})}else this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs requis.",this.alertService.error(this.message)}static \u0275fac=function(e){return new(e||i)(h(q),h(ve),h(_t),h(Xe),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-stage-form"]],decls:29,vars:11,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","titre"],["class","error",4,"ngIf"],["formControlName","description"],["type","text","formControlName","lieu"],["type","text","formControlName","duree"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","entrepriseId",4,"ngIf"],["type","submit",3,"disabled"],[1,"error"],[3,"value"],["formControlName","entrepriseId"]],template:function(e,n){if(e&1&&(a(0,"h2"),l(1,"Cr\xE9er une nouvelle offre de stage / alternance"),o(),a(2,"form",0),w("ngSubmit",function(){return n.onSubmit()}),a(3,"label"),l(4,"Titre :"),o(),b(5,"input",1),g(6,Ga,2,1,"div",2),a(7,"label"),l(8,"Description :"),o(),b(9,"textarea",3),g(10,$a,2,1,"div",2),a(11,"label"),l(12,"Lieu :"),o(),b(13,"input",4),g(14,Wa,2,1,"div",2),a(15,"label"),l(16,"Dur\xE9e :"),o(),b(17,"input",5),g(18,Ha,2,1,"div",2),a(19,"label"),l(20,"Type :"),o(),a(21,"select",6),g(22,Xa,2,2,"option",7),o(),g(23,Za,2,1,"div",2)(24,el,2,0,"label",8)(25,nl,2,1,"select",9)(26,rl,2,1,"div",2),a(27,"button",10),l(28,"Cr\xE9er"),o()()),e&2){let r,s,c,d,p,f;m(2),u("formGroup",n.stageForm),m(4),u("ngIf",((r=n.stageForm.get("titre"))==null?null:r.invalid)&&((r=n.stageForm.get("titre"))==null?null:r.touched)),m(4),u("ngIf",((s=n.stageForm.get("description"))==null?null:s.invalid)&&((s=n.stageForm.get("description"))==null?null:s.touched)),m(4),u("ngIf",((c=n.stageForm.get("lieu"))==null?null:c.invalid)&&((c=n.stageForm.get("lieu"))==null?null:c.touched)),m(4),u("ngIf",((d=n.stageForm.get("duree"))==null?null:d.invalid)&&((d=n.stageForm.get("duree"))==null?null:d.touched)),m(4),u("ngForOf",n.typeStageOptions),m(),u("ngIf",((p=n.stageForm.get("type"))==null?null:p.invalid)&&((p=n.stageForm.get("type"))==null?null:p.touched)),m(),u("ngIf",n.authService.isAdmin()),m(),u("ngIf",n.authService.isAdmin()),m(),u("ngIf",n.authService.isAdmin()&&((f=n.stageForm.get("entrepriseId"))==null?null:f.invalid)&&((f=n.stageForm.get("entrepriseId"))==null?null:f.touched)),m(),u("disabled",n.stageForm.invalid)}},dependencies:[P,ue,V,ye,ge,Ye,He,pe,We,J,fe,he,_e],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#1e3a8a}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:.8rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#94a3b8;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.success[_ngcontent-%COMP%]{color:green;margin-bottom:10px}.error[_ngcontent-%COMP%]{color:red;margin-bottom:10px}"]})};var Ur=()=>["/stages"];function ol(i,t){if(i&1){let e=H();a(0,"button",6),w("click",function(){j(e);let r=v(3);return B(r.modifierStage())}),l(1,"Modifier \u270F\uFE0F"),o()}}function sl(i,t){if(i&1){let e=H();a(0,"button",7),w("click",function(){j(e);let r=v(3);return B(r.supprimerStage())}),l(1,"Supprimer \u{1F5D1}\uFE0F"),o()}}function al(i,t){if(i&1&&(a(0,"div",3),g(1,ol,2,0,"button",4)(2,sl,2,0,"button",5),o()),i&2){let e=v(2);m(),u("ngIf",!e.authService.isEtudiant()),m(),u("ngIf",!e.authService.isEtudiant())}}function ll(i,t){if(i&1){let e=H();a(0,"button",6),w("click",function(){j(e);let r=v(3);return B(r.postulerStage())}),l(1,"Postuler "),o()}}function cl(i,t){if(i&1&&(a(0,"div",3),g(1,ll,2,0,"button",4),o()),i&2){let e=v(2);m(),u("ngIf",e.authService.isEtudiant())}}function ml(i,t){if(i&1&&(a(0,"div")(1,"h2"),l(2),o(),a(3,"p")(4,"strong"),l(5,"Lieu :"),o(),l(6),o(),a(7,"p")(8,"strong"),l(9,"Dur\xE9e :"),o(),l(10),o(),a(11,"p")(12,"strong"),l(13,"Entreprise :"),o(),l(14),o(),a(15,"p")(16,"strong"),l(17,"Type :"),o(),l(18),o(),a(19,"p")(20,"strong"),l(21,"Description :"),o(),l(22),o(),g(23,al,3,2,"div",1)(24,cl,2,1,"div",1),b(25,"br"),a(26,"button",2),l(27,"\u2190 Retour \xE0 la liste"),o()()),i&2){let e=v();m(2),Ae(e.stage.titre),m(4),S(" ",e.stage.lieu,""),m(4),S(" ",e.stage.duree,""),m(4),S(" ",e.stage.entreprise.nom,""),m(4),S(" ",e.stage.type,""),m(4),S(" ",e.stage.description,""),m(),u("ngIf",!e.authService.isEtudiant()),m(),u("ngIf",e.authService.isEtudiant()),m(2),u("routerLink",z(9,Ur))}}function dl(i,t){i&1&&(a(0,"div")(1,"div",8)(2,"p"),l(3,"\u{1F6AB} Aucun stage trouv\xE9 pour cet identifiant."),o(),a(4,"button",2),l(5,"\u2190 Retour \xE0 la liste"),o()()()),i&2&&(m(4),u("routerLink",z(1,Ur)))}var wn=class i{constructor(t,e,n,r,s){this.authService=t;this.route=e;this.router=n;this.stageService=r;this.alertService=s}stage;stageId;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.stageId=+t,this.stageService.getStageById(+t).subscribe({next:e=>{this.stage=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du stage :",e),this.stage=void 0}}))}modifierStage(){this.stageId&&this.router.navigate(["/stages/edit",this.stageId])}postulerStage(){this.stageId&&this.router.navigate(["/candidatures/create",this.stageId])}supprimerStage(){this.stageId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer ce stage/alternance ?").then(t=>{t.isConfirmed&&this.stageId&&this.stageService.deleteStage(this.stageId).subscribe(()=>{this.alertService.success("Le stage/alternance a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/stages"])})})}):console.error("Pas d'ID trouv\xE9 !")}static \u0275fac=function(e){return new(e||i)(h(q),h(Fe),h(D),h(_t),h(W))};static \u0275cmp=M({type:i,selectors:[["app-stage-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","boutons-actions",4,"ngIf"],[1,"btn-retour",3,"routerLink"],[1,"boutons-actions"],["type","button","class","modifier",3,"click",4,"ngIf"],["type","button","class","supprimer",3,"click",4,"ngIf"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,ml,28,10,"div",0)(1,dl,6,2,"div",0),e&2&&(u("ngIf",n.stage),m(),u("ngIf",!n.stage))},dependencies:[P,V,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var An=class i{transform(t,e){return!e||e==="Tous"?t:t.filter(n=>n.role&&n.role.toLowerCase()===e.toLowerCase())}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=dt({name:"filtreRole",type:i,pure:!0})};var ul=i=>["/users",i];function pl(i,t){if(i&1&&(a(0,"div",11)(1,"p")(2,"strong"),l(3,"Email :"),o(),l(4),o(),a(5,"p")(6,"strong"),l(7,"R\xF4le :"),o(),l(8),o(),a(9,"button",12),l(10,"Voir d\xE9tail"),o()()),i&2){let e=t.$implicit;u("@fadeIn",void 0),m(4),S(" ",e.email,""),m(4),S(" ",e.role,""),m(),u("routerLink",Oe(4,ul,e.id))}}var On=class i{constructor(t){this.userService=t}users=[];typeFiltre="Tous";ngOnInit(){this.userService.getAllUsers().subscribe({next:t=>this.users=t,error:t=>console.error("Erreur API :",t)})}voirDetail(t){console.log("User s\xE9lectionn\xE9 :",t),alert(`User : ${t.titre}
Lieu : ${t.lieu}
Type : ${t.type}`)}static \u0275fac=function(e){return new(e||i)(h(ke))};static \u0275cmp=M({type:i,selectors:[["app-user-list"]],decls:20,vars:5,consts:[[1,"page-header"],[1,"actions"],["for","type-select"],["id","type-select",3,"ngModelChange","ngModel"],["value","Tous"],["value","ADMIN"],["value","ENTREPRISE"],["value","ETUDIANT"],["value","SUPER_ADMIN"],[1,"list"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"routerLink"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Liste des users et alternances"),o(),a(3,"div",1)(4,"label",2),l(5,"Filtrer par type :"),o(),a(6,"select",3),ft("ngModelChange",function(s){return pt(n.typeFiltre,s)||(n.typeFiltre=s),s}),a(7,"option",4),l(8,"Tous"),o(),a(9,"option",5),l(10,"Admin"),o(),a(11,"option",6),l(12,"Entreprise"),o(),a(13,"option",7),l(14,"Etudiant"),o(),a(15,"option",8),l(16,"Super Admin"),o()()()(),a(17,"div",9),g(18,pl,11,6,"div",10),Ee(19,"filtreRole"),o()),e&2&&(m(6),ut("ngModel",n.typeFiltre),m(12),u("ngForOf",xe(19,2,n.users,n.typeFiltre)))},dependencies:[P,ue,De,Ye,He,We,J,gt,An,U],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:80px;gap:20px}.card[_ngcontent-%COMP%]{width:250px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center;box-shadow:0 2px 8px #0000001a;transition:transform .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:relative}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:80px;height:3px;background-color:#007bff;display:block;margin:8px auto 0;border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;border:1px solid #ccc}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:background-color .3s}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}'],data:{animation:[Me("fadeIn",[Te(":enter",[X({opacity:0,transform:"translateY(20px)"}),Pe("600ms ease-out",X({opacity:1,transform:"translateY(0)"}))])])]}})};var Fn=class i{constructor(t,e,n,r){this.fb=t;this.userService=e;this.router=n;this.alertService=r;this.userForm=this.fb.group({email:["",I.required],password:["",I.required]})}userForm;message="";messageType="";onSubmit(){if(this.userForm.valid){let t={email:this.userForm.value.email,password:this.userForm.value.password};this.userService.createUser(t).subscribe({next:()=>{this.messageType="success",this.message="\u2705 Utilisateur cr\xE9\xE9 avec succ\xE8s !",this.alertService.success(this.message).then(()=>{this.router.navigate(["/users"])})},error:e=>{console.error("Erreur lors de la cr\xE9ation de l'utilisateur",e),this.messageType="error",this.message="\u274C Erreur lors de la cr\xE9ation de l'utilisateur.",this.alertService.error(this.message)}})}else this.messageType="error",this.message="\u26A0\uFE0F Merci de remplir tous les champs requis.",this.alertService.error(this.message)}static \u0275fac=function(e){return new(e||i)(h(ve),h(ke),h(D),h(W))};static \u0275cmp=M({type:i,selectors:[["app-user-form"]],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["type","email","autocomplete","email","formControlName","email"],["type","password","autocomplete","current-password","formControlName","password"],["type","submit",3,"disabled"]],template:function(e,n){e&1&&(a(0,"h2"),l(1,"Cr\xE9er un utilisateur"),o(),a(2,"form",0),w("ngSubmit",function(){return n.onSubmit()}),a(3,"label"),l(4,"Email :"),o(),b(5,"input",1),a(6,"label"),l(7,"Mot de passe :"),o(),b(8,"input",2),a(9,"button",3),l(10,"Cr\xE9er"),o()()),e&2&&(m(2),u("formGroup",n.userForm),m(7),u("disabled",n.userForm.invalid))},dependencies:[P,ye,ge,pe,J,fe,he,_e],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#fafafa}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#1e3a8a}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3rem;color:#333}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:.8rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#94a3b8;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.error[_ngcontent-%COMP%]{color:red;margin-bottom:10px}"]})};var qr=()=>["/users"];function fl(i,t){if(i&1){let e=H();a(0,"div")(1,"p")(2,"strong"),l(3,"Email :"),o(),l(4),o(),a(5,"p")(6,"strong"),l(7,"R\xF4le :"),o(),l(8),o(),a(9,"div",1)(10,"button",2),w("click",function(){j(e);let r=v();return B(r.modifierUser())}),l(11,"Modifier \u270F\uFE0F"),o(),a(12,"button",3),w("click",function(){j(e);let r=v();return B(r.supprimerUser())}),l(13,"Supprimer \u{1F5D1}\uFE0F"),o()(),b(14,"br"),a(15,"button",4),l(16,"\u2190 Retour \xE0 la liste"),o()()}if(i&2){let e=v();m(4),S(" ",e.user.email,""),m(4),S(" ",e.user.role,""),m(7),u("routerLink",z(3,qr))}}function gl(i,t){i&1&&(a(0,"div")(1,"div",5)(2,"p"),l(3,"\u{1F6AB} Aucun user trouv\xE9 pour cet identifiant."),o(),a(4,"button",4),l(5,"\u2190 Retour \xE0 la liste"),o()()()),i&2&&(m(4),u("routerLink",z(1,qr)))}var Dn=class i{constructor(t,e,n,r,s){this.authService=t;this.route=e;this.router=n;this.userService=r;this.alertService=s}user;userId;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.userId=+t,this.userService.getUserById(+t).subscribe({next:e=>{this.user=e},error:e=>{console.error("Erreur de r\xE9cup\xE9ration du user :",e),this.user=void 0}}))}modifierUser(){this.userId&&this.router.navigate(["/users/edit",this.userId])}supprimerUser(){this.userId?this.alertService.confirm("Es-tu s\xFBr de vouloir supprimer cet utilisateur ?").then(t=>{t.isConfirmed&&this.userId&&this.userService.deleteUser(this.userId).subscribe(()=>{this.alertService.success("L'utilisateur a \xE9t\xE9 supprim\xE9e avec succ\xE8s.").then(()=>{this.router.navigate(["/users"])})})}):console.error("Pas d'ID trouv\xE9 !")}static \u0275fac=function(e){return new(e||i)(h(q),h(Fe),h(D),h(ke),h(W))};static \u0275cmp=M({type:i,selectors:[["app-user-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"boutons-actions"],["type","button",1,"modifier",3,"click"],["type","button",1,"supprimer",3,"click"],[1,"btn-retour",3,"routerLink"],[1,"message-erreur"]],template:function(e,n){e&1&&g(0,fl,17,4,"div",0)(1,gl,6,2,"div",0),e&2&&(u("ngIf",n.user),m(),u("ngIf",!n.user))},dependencies:[P,V,U],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;max-width:800px;margin:2rem auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f9f9f9;border-radius:12px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#005baa;margin-bottom:1rem;border-bottom:2px solid #e0e0e0;padding-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.8rem 0}strong[_ngcontent-%COMP%]{color:#333}@media (max-width: 600px){[_nghost-%COMP%]{padding:1rem;margin:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{font-size:1rem}}.btn-retour[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;font-weight:700;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.btn-retour[_ngcontent-%COMP%]:hover{background-color:#0056b3}.message-erreur[_ngcontent-%COMP%]{margin-top:40px;padding:20px;border:1px solid #dc3545;border-radius:8px;background-color:#f8d7da;color:#721c24;font-weight:700}.boutons-actions[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.boutons-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;transition:.3s}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .modifier[_ngcontent-%COMP%]:hover{background-color:#218838}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.boutons-actions[_ngcontent-%COMP%]   .supprimer[_ngcontent-%COMP%]:hover{background-color:#c82333}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:8px 15px;border-radius:5px;font-weight:700;text-decoration:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]{background-color:#e74c3c}.login-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};var K=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.isLoggedIn()?!0:this.router.parseUrl("/login")}static \u0275fac=function(e){return new(e||i)(se(q),se(D))};static \u0275prov=we({token:i,factory:i.\u0275fac,providedIn:"root"})};var $=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){let n=t.data.roles,r=this.authService.getCurrentUser();return r&&r.role==="SUPER_ADMIN"||r&&n.includes(r.role)?!0:this.router.parseUrl("/unauthorized")}static \u0275fac=function(e){return new(e||i)(se(q),se(D))};static \u0275prov=we({token:i,factory:i.\u0275fac,providedIn:"root"})};var at=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(){let t=this.authService.getCurrentUser();return!t||t.role==="ADMIN"||t.role==="SUPER_ADMIN"?!0:this.router.parseUrl("/unauthorized")}static \u0275fac=function(e){return new(e||i)(se(q),se(D))};static \u0275prov=we({token:i,factory:i.\u0275fac,providedIn:"root"})};var qe=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(t){let e=this.authService.getCurrentUser(),n=Number(t.paramMap.get("id")),r=t.data.role;return e?n?e&&e.role==="SUPER_ADMIN"||e.role==="ADMIN"&&r==="ADMIN"&&this.authService.getCurrentProfilId()===n||e.role==="ADMIN"&&r==="USER"&&this.authService.getCurrentUserId()===n||e.role==="ADMIN"&&r==="ETUDIANT"||e.role==="ADMIN"&&r==="ENTREPRISE"||e.role==="ETUDIANT"&&r==="ETUDIANT"&&this.authService.getCurrentProfilId()===n||e.role==="ENTREPRISE"&&r==="ENTREPRISE"&&this.authService.getCurrentProfilId()===n?!0:this.router.parseUrl("/unauthorized"):this.router.parseUrl("/unauthorized"):this.router.parseUrl("/login")}static \u0275fac=function(e){return new(e||i)(se(q),se(D))};static \u0275prov=we({token:i,factory:i.\u0275fac,providedIn:"root"})};var Vr=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"about",component:cn},{path:"choix-inscription",component:mn,canActivate:[at]},{path:"contact",component:dn},{path:"home",component:Dt},{path:"index",component:Dt},{path:"login",component:un,canActivate:[at]},{path:"unauthorized",component:pn},{path:"admins",component:fn,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"admins/create",component:gn,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"admins/edit/:id",loadComponent:()=>import("./chunk-LXTK6H5Y.js").then(i=>i.AdminEditComponent),canActivate:[K,$,qe],data:{roles:["ADMIN"],role:"ADMIN"}},{path:"admins/:id",component:hn,canActivate:[K,$,qe],data:{roles:["ADMIN"],role:"ADMIN"}},{path:"candidatures",component:vn,canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE","ETUDIANT"]}},{path:"candidatures/create",component:Oi,canActivate:[K,$],data:{roles:["ADMIN","ETUDIANT"]}},{path:"candidatures/create/:id",loadComponent:()=>import("./chunk-PUA5L4UV.js").then(i=>i.CandidatureFormComponent),canActivate:[K,$],data:{roles:["ADMIN","ETUDIANT"]}},{path:"candidatures/edit/:id",loadComponent:()=>import("./chunk-PLIBISJO.js").then(i=>i.CandidatureEditComponent),canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE","ETUDIANT"]}},{path:"candidatures/:id",component:yn,canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE","ETUDIANT"]}},{path:"entreprises",component:bn,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"entreprises/create",component:Sn,canActivate:[at]},{path:"entreprises/edit/:id",loadComponent:()=>import("./chunk-UAAYRGF2.js").then(i=>i.EntrepriseEditComponent),canActivate:[K,$,qe],data:{roles:["ADMIN","ENTREPRISE"],role:"ENTREPRISE"}},{path:"entreprises/:id",component:Cn,canActivate:[K,$,qe],data:{roles:["ADMIN","ENTREPRISE"],role:"ENTREPRISE"}},{path:"etudiants",component:En,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"etudiants/create",component:xn,canActivate:[at]},{path:"etudiants/edit/:id",loadComponent:()=>import("./chunk-HXO2KTDY.js").then(i=>i.EtudiantEditComponent),canActivate:[K,$,qe],data:{roles:["ADMIN","ETUDIANT"],role:"ETUDIANT"}},{path:"etudiants/:id",component:Mn,canActivate:[K,$,qe],data:{roles:["ADMIN","ETUDIANT"],role:"ETUDIANT"}},{path:"stages",component:Tn},{path:"stages/create",component:In,canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE"]}},{path:"stages/edit/:id",loadComponent:()=>import("./chunk-X4PEHND4.js").then(i=>i.StageEditComponent),canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE"]}},{path:"stages/:id",component:wn,canActivate:[K,$],data:{roles:["ADMIN","ENTREPRISE","ETUDIANT"]}},{path:"users",component:On,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"users/create",component:Fn,canActivate:[K,$],data:{roles:["ADMIN"]}},{path:"users/edit/:id",loadComponent:()=>import("./chunk-UQYL5A3I.js").then(i=>i.UserEditComponent),canActivate:[K,$,qe],data:{roles:["ADMIN"],role:"USER"}},{path:"users/:id",component:Dn,canActivate:[K,$,qe],data:{roles:["ADMIN"],role:"USER"}}];Pi(Vt,{providers:[wr(),Ti(),Ai(Vr)]}).catch(i=>console.error(i));
